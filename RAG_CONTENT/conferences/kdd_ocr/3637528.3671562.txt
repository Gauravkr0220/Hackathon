NudgeRank: Digital Algorithmic Nudging for Personalized Health
Jodi Chiamâˆ—
CueZen, Inc.
Singapore, Singapore
jodi.chiam@cuezen.comAloysius Limâˆ—
CueZen, Inc.
Singapore, Singapore
aloysius.lim@cuezen.comAnkur Teredesai
CueZen, Inc.
Seattle, WA, United States
University of Washington
Tacoma, WA, United States
ankurt@uw.edu
ABSTRACT
In this paper we describe NudgeRankâ„¢, an innovative digital algo-
rithmic nudging system designed to foster positive health behaviors
on a population-wide scale. Utilizing a novel combination of Graph
Neural Networks augmented with an extensible Knowledge Graph,
this Recommender System is operational in production, deliver-
ing personalized and context-aware nudges to over 1.1 million
care recipients daily. This enterprise deployment marks one of
the largest AI-driven health behavior change initiatives, accommo-
dating diverse health conditions and wearable devices. Rigorous
evaluation reveals statistically significant improvements in health
outcomes, including a 6.17% increase in daily steps and 7.61% more
exercise minutes. Moreover, user engagement and program enroll-
ment surged, with a 13.1% open rate compared to baseline systemsâ€™
4%. Demonstrating scalability and reliability, NudgeRankâ„¢ oper-
ates efficiently on commodity compute resources while maintaining
automation and observability standards essential for production
systems.
CCS CONCEPTS
â€¢Information systems â†’Recommender systems; â€¢Applied
computingâ†’Consumer health; â€¢Computing methodologies
â†’Neural networks ;Learning from implicit feedback .
KEYWORDS
Recommender System; Nudging; Personalization; Health; Physical
Activity; Knowledge Graph; Neural Network; Behavior
ACM Reference Format:
Jodi Chiam, Aloysius Lim, and Ankur Teredesai. 2024. NudgeRank: Digital
Algorithmic Nudging for Personalized Health. In Proceedings of the 30th ACM
SIGKDD Conference on Knowledge Discovery and Data Mining (KDD â€™24),
August 25â€“29, 2024, Barcelona, Spain. ACM, New York, NY, USA, 12 pages.
https://doi.org/10.1145/3637528.3671562
1 INTRODUCTION
Recommender Systems (RecSys) are pivotal and have been deployed
in production across various industries, including e-commerce [ 15],
streaming services [ 7], music [ 2], and social media [ 30]. They enable
âˆ—Both authors contributed equally to this research.
This work is licensed under a Creative Commons Attribution-
NonCommercial International 4.0 License.
KDD â€™24, August 25â€“29, 2024, Barcelona, Spain
Â©2024 Copyright held by the owner/author(s).
ACM ISBN 979-8-4007-0490-1/24/08
https://doi.org/10.1145/3637528.3671562users to discover relevant items amidst overwhelming choices, en-
hancing engagement and satisfaction. This, in turn, drives growth
for platforms and their user base.
In healthcare, RecSys play a crucial role, aiding both clinicians
and patients. For example, they support clinical decision-making
with drug recommendations considering patient history of allergies
and drug interactions [ 4,8], facilitate finding suitable healthcare
providers [ 32], and enable access to relevant health information
[24].
Despite these advancements, leveraging RecSys for digital algo-
rithmic nudging to promote healthy lifestyles across a large popula-
tion remains underexplored. With the ubiquity of health devices and
wearables, the data collectedâ€”ranging from physical activity (steps,
active exercise minutes) to vital signs (heart rate, oxygen satura-
tion, blood glucose)â€”offers a comprehensive view of an individualâ€™s
health behavior and states. Such data is used, with consent, to mo-
tivate health tracking and behavior modification through nudges, a
concept rooted in behavioral economics about choices presented to
guide individuals towards desired behaviors [ 25]. Several wearable
device manufacturers use rule based systems to generate nudges
that aim to guide the consumer to focus on certain activities. In
general health and wellness settings, such nudges can encourage
users to exercise more, get enough sleep, quit smoking and re-
duce alcohol intake, and even help develop healthy eating habits.
Similarly in clinical healthcare settings nudges can help increase
patient engagement for improving outcomes such as medication
adherence, increasing screening rates for early detection of cancers,
and encouraging clinical-trial patients to stay on protocol. In gen-
eral, some level of nudging is recognized as useful for most people,
whether they are healthy, or if they have a noncommunicable dis-
ease (NCD) like diabetes or cardiovascular disease, where behavior
modifications are critical for preventing disease progression and
complications. At a population level, more individuals adopting
healthy behaviors can reduce the incidence and burden of NCDs,
which are responsible for 74% of deaths globally [19, 22].
Achieving such sustained behavior change at a large population
scale presents two notable challenges from socioeconomic and
technical perspectives.
First, changing human behavior is hard. People are creatures
of habit. To be effective, nudges need to be personalized to the
recipient and contextual to their circumstances. Nudges also have
to be perceived to be coming from a human expert, and must be
relevant and useful. In contrast to traditional outreach methods
like billboards and mass emails, a RecSys can provide a much more
private and intimate user experience by sending nudges on a regular
basis and saying the appropriate thing at the right time, which can
ultimately contribute to sustained behavior change.
4873
KDD â€™24, August 25â€“29, 2024, Barcelona, Spain Jodi Chiam, Aloysius Lim, and Ankur Teredesai
Second, implementing a RecSys for personalized health nudging
at population scale requires the system to address numerous tech-
nical challenges. It has to be highly compliant to care protocols,
while being scalable and performant to generate recommendations
for millions of users in real-time, or hourly, or daily. It needs to
be easily configurable to meet specific business and compliance
requirements of each local region and a variety of health goals.
Such a system also needs to be reliable to operate in a production
setting without any major downtimes and failures given the clini-
cal importance of the interactions. It must be fully automated to
gather performance and health metrics continuously; and capable
of addressing issues like new user and new health goal cold start in
a health setting where traditional methods may not apply directly.
In this paper we describe one such system we developed termed
NudgeRankâ„¢: a RecSys for digital algorithmic nudging for health.
It is currently deployed in collaboration with the Health Promotion
Board of Singapore (HPB) to support health and wellness goals
of the nation. NudgeRankâ„¢ has been running in production since
July 2022, and scales to send digital personalized nudges to over 1.1
million active users of HPBâ€™s Healthy 365 mobile app. Users sync
their fitness trackers to the app and monitor progress in various
health and wellness programs including physical activity like steps
and moderate to vigorous physical activity (MVPA), and nudges
are delivered via push notifications. We evaluated the effectiveness
of algorithmic nudging in engaging users as well as efficacy of
enabling changes in health behaviors, model performance, and
overall system performance.
The main contributions of this work are:
â€¢We describe a novel Graph Neural Network (GNN) based
digital algorithmic nudging recommendation system for per-
sonalized health, with deployment details and results that
can be applied to a wide range of health use cases and be-
haviors.
â€¢We complemented the GNN with an extensible Knowledge
Graph framework to capture rich information about care
recipientsâ€™ states and behaviors coming from lifestyle and
health data sources like wearables and health records, to
contextualize and personalize the nudges for individuals.
â€¢We deployed the system to encourage awareness of improv-
ing physical activity levels in a large population (> 1 million
users) in Singapore, and demonstrated its efficacy at health
metrics such as improving step count and MVPA across the
population.
â€¢We demonstrated that the deployed system meets stringent
compliance criteria for nudges, and is able to handle the
scalability and reliability requirements of the overall system
to operate in production at population scale.
2 RELATED WORK
The landscape of health behavior nudging encompasses a spectrum
of strategies, from basic environmental cues to sophisticated digital
interventions. For decades, policy makers have encouraged ap-
proaches that have utilized methods such as strategic placement of
milk and vegetables to promote nutritional needs of consumers [ 16],
used socially targeted messages on shopping trolleys to increase
vegetable purchases [ 12], and the alteration of trash bag colors toimprove waste disposal practices [ 1] for example. Despite their
merits, these methods lack personalization and context-awareness
necessary for broader applicability.
Advancements in consumer technology and Just-In-Time Adap-
tive Interventions (JITAIs) signify a shift towards leveraging mobile
and sensor technologies for real-time data collection about usersâ€™
changing internal and contextual states, enabling timely and rele-
vant nudges [ 17]. These interventions span such a variety of health
domains, including physical activity [ 6], alcohol cessation [ 10],
smoking cessation [ 23], and weight loss [ 20] that it is impossible
to cite all the relevant studies here and we point the reader to but
few of the ones we found interesting. For example, Consolvo et al.,
used a personalized display to visualize the userâ€™s progress towards
daily physical activity goals, but did not send any messages[ 6].
Gustafson et al., addressed this and applied decision rules to send
text messages: to send an alert if the userâ€™s GPS location is in the
proximity of a high-risk area for alcohol consumption [ 10]. Riley
et al., send messages as users progress through different stages
of their care plans [ 23], and Patrick et al. incorporate a library of
1,500 decision rules to decide which message to send and when,
based on userâ€™s state [ 20]. While these interventions are context-
sensitive, their reliance on a universal set of decision rules limits
their personalization capacity.
Application of Machine Learning (ML) has increasingly enabled
personalization of health interventions to adjust to individual pref-
erences. Notably, the HeartSteps app employs Reinforcement Learn-
ing to tailor the timing of nudges [ 14], while other studies utilize
hierarchical clustering and binary classification to refine daily goal
recommendations [ 13] and employ LSTM models for exercise rec-
ommendations based on predicted heart rate profiles [ 18]. These
approaches were designed to offer study-specific personalization for
a single goal and donâ€™t report results across simultaenous multiple
health outcomes, an important criteria necessary to address poly-
chronic and multiple comorbidities that exist in any population
which our deployed system addresses in an extensible way.
We demonstrate that an AI driven extensible RecSys can offer
a versatile foundation for developing personalized nudge systems
applicable across various health scenarios. We were motivated by
other preliminary successes in targeted studies, such as smoking
cessation efforts achieving significantly higher abstinence rates
with personalized messaging [3, 11].
Based on the demonstrated commercial success of RecSys in sig-
nificant operational contexts across various industries, we posited
that a newly devised RecSys tailored for healthcare could suffi-
ciently meet the requirements to establish a population-scale nudg-
ing mechanism. Our inquiry is predicated on the notion that RecSys,
particularly those enhanced with knowledge graphs, possess the
capability to adeptly expand personalized health nudging initia-
tives. Knowledge graphs offer the flexibility to assimilate a wide
array of health-related information, encompassing data from fit-
ness tracker activities to various smart sensors and clinical records,
without necessitating extensive feature engineering efforts. This
approach not only enriches the contextual basis for personalization
but also leverages semantic relationships for more nuanced rec-
ommendations. Examples of knowledge-enhanced RecSys include
RippleNet [ 27] and KGCN [ 28], which utilize knowledge graphs
for item recommendations, KGAT [ 29], KNI [ 21], which integrate
4874NudgeRank: Digital Algorithmic Nudging for Personalized Health KDD â€™24, August 25â€“29, 2024, Barcelona, Spain
user-item interactions for a comprehensive understanding of user
preferences, and IntentGC [ 31] which captures knowledge about
users.
To the best of our knowledge, this paper introduces the first
GNN and Knowledge Graph augmented deployment of a RecSys
for nudging for health that is capable of dynamically generating
personalized nudges for millions of users. Our system design de-
scribed in the next section demonstrates the practical application
and effectiveness of this approach for real-world enterprise health
setting.
3 SYSTEM DESIGN
NudgeRankâ„¢ by design is agnostic to specific health scenarios.
While we present the system design and evaluation of nudging
for population health promotion, it is also being used in other use
cases where it is important to sustain desired health behaviors, like
chronic disease management and pre- or post-surgical care.
3.1 NudgeRank System
The NudgeRankâ„¢ system is depicted in Figure 1, highlighting its
primary components.
3.1.1 Data Collection: Nudge Library and Participant Data. The
system commences by aggregating essential data. The Nudge Li-
brary enables care program manager to author nudge templates
that can be personalized for end users. Participant data, encompass-
ing demographics, health behaviors, and more, are sourced via API
from mobile apps or other databases, including electronic health
records. This dataset is enriched by user-item interactions, captur-
ing engagement with the nudges, including opening or rating them
(e.g. thumbs up or down).
3.1.2 Knowledge Graph Neural Network Recommender System. Data
preparation for the RecSys involves the Personal Candidate Nudge
Generator generating a tailored list of candidate nudges for each
user based on predefined targeting rules. For example, some nudges
may only be targeted at users over 60 years old who have walked
less than 5,000 steps in the previous week.
The NudgeRankâ„¢ Knowledge Graph Constructor forms a hetero-
geneous knowledge graph, capturing the complex interplay be-
tween users, nudges, and their attributes. This graph dynamically
updates in response to new user data, ensuring recommendations
reflect the current contextual state of each user. Users and nudges
are represented as nodes in the graph, and directed edges capture
the history of userâ€™s past interactions with the nudges. In the exam-
ple in Figure 2, user ğ‘¢1opened nudge ğ‘›1and rated it "useful". Usersâ€™
attributes and behaviors are represented by binary markers, which
are classified into topics. For example, user ğ‘¢1has the markers "age:
30s", "BMI: normal" and"steps: 2.5k". While the figure only illustrates
a few markers, the actual graph contains over 130 markers, and can
be easily extended with more data sources and adapted to more use
cases, e.g. HbA1C or blood glucose markers for diabetes. The graph
also captures knowledge about the nudges. For example, nudge
ğ‘›2targets segment ğ‘ 1"Inactive Young Adults", and was written to
encourage them to walk more steps.
We extend prior efforts ([ 21,27â€“29,31]) in two important ways
for algorithmic digital nudging in health:First, besides capturing knowledge about items, the knowledge
graph also captures knowledge about users, such as their demo-
graphics, health behaviors and segments. Furthermore, it captures
shared knowledge between users and items, in addition to their
interaction histories. For example, in Figure 2, users ğ‘¢1andğ‘¢3are
in segment ğ‘ 1since they are both in their 20â€™s and 30â€™s, and have
not been active in either steps or MVPA. Nudge ğ‘›2targets segment
ğ‘ 1and has a "steps" goal, and would therefore be a candidate nudge
to encourage ğ‘¢1andğ‘¢3to walk more steps. By capturing all the
knowledge about users and nudges and the relationships between
them, the knowledge graph provides a rich representation of the
world for the RecSys to finely tailor nudges according to each userâ€™s
preferences and contextual states.
Second, the graph is dynamic and updated frequently as new
information about users are collected, to ensure that recommenda-
tions are always made in the context of the usersâ€™ current states and
behaviors. For example, if a user had the marker "steps: 2.5k" one
week ago, but the marker changed to "steps: 10k" this week because
the user walked more, the userâ€™s graph connections are updated to
reflect this new information, and new nudges are generated with
the updated graph.
Both the list of candidate nudges per user and the knowledge
graph are fed to the RecSys, which ranks the candidate nudges for
each user, based on higher-order relationships between users and
items captured in the knowledge graph.
LetUbe the set of users, Ibe the set of items (nudges), Eâ€²be
the set of other entities, and Rbe the set of relation types. Then,
the dynamic NudgeRankâ„¢ Knowledge Graph at time ğ‘¡is defined by
Gğ‘¡={(ğ‘,ğ‘Ÿ,ğ‘)|ğ‘,ğ‘âˆˆE,ğ‘ŸâˆˆR} , whereE=UâˆªIâˆªEâ€²and a triplet
(ğ‘,ğ‘Ÿ,ğ‘)represents a relationship ğ‘Ÿfrom head node ğ‘to tail node ğ‘
that exists at time ğ‘¡. For example, the triplet (ğ‘¢1,ğ‘–ğ‘›_ğ‘ ğ‘’ğ‘”ğ‘šğ‘’ğ‘›ğ‘¡,ğ‘  1)is
an edge in the graph indicating that user ğ‘¢1is in segment ğ‘ 1. Each
node inEis represented by a ğ‘‘-dimensional embedding vector
eâˆˆRğ‘‘, and each relation in Ris represented by a ğ‘˜-dimensional
embedding vector râˆˆRğ‘˜.
For initial training, all node and relation embeddings are initial-
ized using Xavier initialization [ 9]. When the model is subsequently
fine-tuned on new data, the node and relation embeddings of graph
Gğ‘¡+1are first initialized using the previously learned embeddings
from graphGğ‘¡, except for any new nodes or relations where Xavier
initialization was applied.
The NudgeRankâ„¢ model (Figure 3) uses attentive graph convolu-
tion layers to aggregate node embeddings from neighboring nodes,
so that the GNN can learn which neighbors are most important
for passing information to personalize the nudges. The number of
layersğ¿and the dimensions of each layer are hyperparameters that
can be tuned. The embeddings for head node ğ‘in layerğ‘™are up-
dated by the attention-weighted linear combination of its first order
neighborsNğ‘in layerğ‘™âˆ’1, aggregated with its own embeddings
via a differentiable function ğ‘“, e.g. addition or concatenation.
e(ğ‘™)
ğ‘=ğ‘“Â©Â­
Â«e(ğ‘™âˆ’1)
ğ‘,âˆ‘ï¸
ğ‘âˆˆNğ‘ğ›¼ğ‘ğ‘e(ğ‘™âˆ’1)
ğ‘ÂªÂ®
Â¬(1)
We adopted Knowledge-Aware Attention [ 29], where the relation-
specific attention weights ğ›¼ğ‘Ÿ
ğ‘ğ‘are defined in Equation 2, with ma-
trixWğ‘Ÿprojecting the node embeddings eğ‘and eğ‘to the space
4875KDD â€™24, August 25â€“29, 2024, Barcelona, Spain Jodi Chiam, Aloysius Lim, and Ankur Teredesai
Figure 1: NudgeRankâ„¢ system that automatically generates personalized health nudges for millions of users daily, integrated
with mobile app to deliver of nudges via push notifications and collect contextual and nudge engagement data.
Figure 2: NudgeRankâ„¢ Knowledge Graph.
of relationğ‘Ÿ. Thus, the attention weight for the relation (ğ‘,ğ‘Ÿ,ğ‘)is
proportional to the similarity between Â®ğ‘+Â®ğ‘ŸandÂ®ğ‘in the space of
relationğ‘Ÿ.ğ›¼ğ‘Ÿ
ğ‘ğ‘=softmaxğ‘((Wğ‘Ÿeğ‘)âŠ¤tanh(Wğ‘Ÿeğ‘+eğ‘Ÿ)) (2)
The NudgeRankâ„¢ framework is extensible to allow other at-
tention mechanisms to be used, for example, the Graph Attention
4876NudgeRank: Digital Algorithmic Nudging for Personalized Health KDD â€™24, August 25â€“29, 2024, Barcelona, Spain
Figure 3: NudgeRankâ„¢ Knowledge Graph Neural Network.
Layer [ 26] (Equation 3), which includes self-attention and supports
multiple attention heads. We left alternate attention mechanisms
for future exploration.
ğ›¼ğ‘ğ‘=softmaxğ‘(LeakyReLU(a[Weğ‘âˆ¥Weğ‘])) (3)
After node embeddings have propagated through the convolu-
tional layers, the predicted rating for user ğ‘¢and itemğ‘–is computed
as the dot product of the embedding vectors:
Ë†ğ‘¦ğ‘¢,ğ‘–=eâŠ¤
ğ‘¢eğ‘– (4)
3.1.3 Constraints Filter. After the RecSys has ranked the candidate
nudges for each user, the Constraints Filter applies customizable cri-
teria to refine the nudge selection, aiming to optimize engagement
while mitigating fatigue. For example, a nudge budget (maximum
number of nudges per day) is applied to minimize nudge fatigue;
nudges that were sent recently (e.g. last 7 days) are removed to
increase the diversity of nudges in consecutive days; nudges that a
user had rated "not useful" are removed to reduce annoyance. All
of these nudges are fully configurable according to the business
needs of the health program.
3.1.4 Content Personalizer. The Content Personalizer processes the
final list of selected nudges for each user, and renders any personal-
ized fields in the nudge template. For example, the following nudge
template "Great job walking {{avg_daily_steps}} daily steps last week!
You are getting pretty close to your goal of 10,000 steps per day!"
is rendered with the userâ€™s actual data (e.g. "8,356 daily steps" ) to
personalize the nudge for that user.
3.1.5 NudgeAPI. Finally, the nudges are exposed via NudgeAPI to
external delivery channels such as mobile apps or email delivery
systems. Feedback data in the form of nudge engagement (sent,
opened, ratings) are collected, along with health behavior and vi-
tals from fitness trackers and other smart devices. As new data
is ingested, they create a continuous feedback loop with updated
contextual information for the next set of personalized nudges to
be generated.3.2 Design Considerations
Deploying a RecSys at scale requires careful design to solve opera-
tional issues that can occur in a production system. This section
describes the critical design considerations for NudgeRankâ„¢.
3.2.1 Personalization and Contextualization. The main job of a
RecSys for health nudges is to deliver personalized nudges that are
relevant and contextual to the userâ€™s health state, goals and behav-
iors, so that the user remains engaged with the health program
and adheres to the desired positive health behaviors. NudgeRankâ„¢
achieves a high level of personalization by considering what to say,
who to send a nudge to, and when to send it.
What : the Nudge Library allows a wide variety of nudges to
be written, using different nudge techniques, choice of words, or
tonalities. Since different users may find different nudges to be inter-
esting, NudgeRankâ„¢ can learn the preferences of individual users
and recommend other similar nudges. For example, some users
may have a competitive personality and respond better to nudges
that challenge them with social comparisons to peer groups, while
others respond better to gentle reminders. Furthermore, nudges can
be written as templates that allow the content to be personalized
by injecting the userâ€™s own contextual data into the message, as
described in Section 3.1.4.
Who : The program manager can write nudges for different audi-
ences by specifying the target segments for each nudge. For example,
different nudges can be written for young adults who are sedentary
vs. active. Segments can be defined by static user attributes like de-
mographics, and dynamic attributes like health behaviors. A userâ€™s
segment memberships are dynamic and automatically updated, as
their health states and behaviors change daily. As a result, the list of
candidate nudges that the user may receive is also contextual and
up-to-date. For example, suppose the user belongs to the "Inactive
Young Adult" segment on day 1, and gets a nudge reminding the
user to exercise. On day 2, the user goes to the gym and moves to
another segment called "Active Young Adult"; the user receives a
different nudge saying, "Good job, keep it up!" Segments can be
defined as broadly or precisely as required; for example, nudges can
be written for all "Young Adults", or only "Prediabetic Overweight
Moderately Active Young Males". As users perform different health
4877KDD â€™24, August 25â€“29, 2024, Barcelona, Spain Jodi Chiam, Aloysius Lim, and Ankur Teredesai
behaviors or their health states change, dynamic segments ensure
that the right nudges are selected for them.
When : Underpinning the ability to send the right nudge at the
right time is the dynamic knowledge graph that provides the latest
state of the world for the RecSys model to generate nudges with.
As new data is collected about users and how they have interacted
with nudges, the knowledge graphâ€™s nodes and edges are updated
with the latest data. In this way, recommendations are timely and
relevant to each userâ€™s current context and behaviors.
3.2.2 Cold Start. In NudgeRankâ„¢, the cold start problem can hap-
pen when (a) new nudges are added to the Nudge Library, or (b)
new users enroll for the health program and they are added to the
graph. We solve cold start in two main ways.
First, new users and nudges are added to the knowledge graph,
with any information that is known about them. Users have demo-
graphic or other data that is collected about them during enrollment.
Nudges minimally have a target health goal, target segments, and
other attributes. Using these basic information, graph connections
can already be established for new users and nudges. Node em-
beddings representing new users and nudges are initialized using
the Xavier initializer [ 9], which effectively randomizes the new
users and nudges without any learned preferences. By adding new
users to the graph, the RecSys is able to recommend nudges that
are relevant to the users, even in the absence of any behavior data
or nudge interactions; for example, nudges that were opened by
other users in the same demographic groups. As new users record
their health behaviors and interact with nudges, the recommen-
dations become more and more personalized to their individual
contexts and preferences. Likewise, new nudges with no interaction
history can already be recommended to users in the relevant target
segments, and based on other graph connections.
Second, we introduced a mechanism to ensure diversity of nudges.
A configurable parameter ğ‘ğ‘‘ğ‘–ğ‘£ğ‘’ğ‘Ÿğ‘ ğ‘–ğ‘¡ğ‘¦âˆˆ[0.0,1.0]controls the pro-
portion of nudges that are randomly sampled without replacement
from each userâ€™s list of candidate nudges. For every nudge that is
output by the Constraints Filter (Section 3.1.3), there is a probabil-
ity ofğ‘ğ‘‘ğ‘–ğ‘£ğ‘’ğ‘Ÿğ‘ ğ‘–ğ‘¡ğ‘¦ that the nudge is replaced by a uniformly sampled
nudge from the userâ€™s candidate nudge list. In doing so, some of
the nudges actually sent to the user may have been below the top
ğ‘˜ranked nudges. This allows a greater diversity of nudges to be
sent, including new nudges which are typically not ranked high.
Increasing diversity also allows for more user-nudge interaction
data to be collected, allowing the RecSys to learn user preferences
more broadly.
3.2.3 Business Rules and Constraints. To ensure and maintain a
positive user experience, critical business rules can be configured
in the system, according to the specific needs of the health program.
These are enforced by the Constraints Filter (Section 3.1.3).
ANegative Rating Filter removes all nudges that the user has
given a negative rating for (e.g. thumbs down) in the last ğ‘‘ğ‘›ğ‘’ğ‘”_ğ‘“ğ‘–ğ‘™ğ‘¡ğ‘’ğ‘Ÿâ‰¥
0days. This prevents such nudges from being recommended again,
to maintain a positive user experience. The nudge can be sent again
afterğ‘‘ğ‘›ğ‘’ğ‘”_ğ‘“ğ‘–ğ‘™ğ‘¡ğ‘’ğ‘Ÿ days, in case the userâ€™s preferences or context have
changed.
Because nudges are delivered via push notifications, a Nudge
Budget Filter allows the number of daily nudges to be limited toa configurable parameter ğ‘˜ğ‘‘ğ‘ğ‘–ğ‘™ğ‘¦ , to reduce nudge fatigue and an-
noyance to users. If a user has ğ‘˜ğ‘Ÿğ‘’ğ‘ğ‘œğ‘šğ‘šğ‘’ğ‘›ğ‘‘ğ‘’ğ‘‘ recommended nudges
after all other constraints have been applied, then the actual number
of nudges sent is ğ‘˜ğ‘“ğ‘–ğ‘›ğ‘ğ‘™ =min(ğ‘˜ğ‘‘ğ‘ğ‘–ğ‘™ğ‘¦,ğ‘˜ğ‘Ÿğ‘’ğ‘ğ‘œğ‘šğ‘šğ‘’ğ‘›ğ‘‘ğ‘’ğ‘‘).
3.2.4 Performance and Resilience. Generating nudges for a large
population in production requires the NudgeRankâ„¢ system to be
engineered with performance and resilience in mind. NudgeRank â„¢
runs on Kubernetes, with critical pipelines running in parallel and
distributed across the cluster. This allows the system to scale hori-
zontally on commodity infrastructure, including virtual machines
and storage from any cloud provider. Specifically, the batch scoring
pipelines run in parallel by processing and generating different
subsets of the population. As many instances of the pipeline as
needed can be instantiated to handle the load of a large and grow-
ing population of users. Based on the number of Kubernetes nodes
available and the desired overall execution time, the parameter
ğ‘>0determines how many parallel batches are processed. The
ğ‘›users are divided into ğ‘equal batches, then the NudgeRankâ„¢
pipeline is run for each batch of users. The generated nudges for
all users are then concatenated at the final step before publishing
the nudges in NudgeAPI. This is illustrated in Algorithm 1.
A distributed system architecture running in the cloud intro-
duces sources of potential failures in the system. For example, in-
termittent network issues when reading or writing data, or issues
in the Kubernetes cluster may cause various parts of the pipeline
to fail. To improve the resilience of the system, an automated retry
mechanism was built into the parallel algorithm, to automatically
recover from failures and increase the fault-tolerance of the system.
If any failures occur within a batch resulting in an exception being
raised, the processing for that batch is repeated. Because batches
contain non-overlapping subsets of users, there is no conflict with
other batches being processed. To minimize the time to recover
from failures, only failed batches need to be re-executed, and the
results of other successful batches are retained for the final output.
Algorithm 1 Parallel NudgeRankâ„¢
Require:ğ‘›>0andğ‘â‰¥1
ğ‘›ğ‘¢ğ‘‘ğ‘”ğ‘’ğ‘ â†{}
ğ‘›ğ‘ğ‘ğ‘¡ğ‘â„â†âŒˆğ‘›
ğ‘âŒ‰
Gâ† KGConstructor( ğ‘›ğ‘¢ğ‘‘ğ‘”ğ‘’ _ğ‘™ğ‘–ğ‘ğ‘Ÿğ‘ğ‘Ÿğ‘¦ ,ğ‘ğ‘ğ‘Ÿğ‘¡ğ‘–ğ‘ğ‘–ğ‘ğ‘ğ‘›ğ‘¡ _ğ‘‘ğ‘ğ‘¡ğ‘ )
for allğ‘,1â‰¤ğ‘â‰¤ğ‘do
/* Run all batches in parallel. If any batch fails, repeat it. */
ğ‘ğ‘ğ‘¡ğ‘â„ _ğ‘¢ğ‘ ğ‘’ğ‘Ÿğ‘  ={ğ‘¢ğ‘–|(ğ‘âˆ’1)Â·ğ‘›ğ‘ğ‘ğ‘¡ğ‘â„ <ğ‘–â‰¤ğ‘Â·ğ‘›ğ‘ğ‘ğ‘¡ğ‘â„}
ğ‘ğ‘ğ‘›ğ‘‘ğ‘–ğ‘‘ğ‘ğ‘¡ğ‘’ _ğ‘›ğ‘¢ğ‘‘ğ‘”ğ‘’ğ‘ â†{}
for allğ‘¢âˆˆğ‘ğ‘ğ‘¡ğ‘â„ _ğ‘¢ğ‘ ğ‘’ğ‘Ÿğ‘  do
ğ‘ğ‘ğ‘›ğ‘‘ğ‘–ğ‘‘ğ‘ğ‘¡ğ‘’ğ‘ â†CandidateNudgeGenerator( ğ‘¢)
ğ‘ğ‘ğ‘›ğ‘‘ğ‘–ğ‘‘ğ‘ğ‘¡ğ‘’ _ğ‘›ğ‘¢ğ‘‘ğ‘”ğ‘’ğ‘ â†ğ‘ğ‘ğ‘›ğ‘‘ğ‘–ğ‘‘ğ‘ğ‘¡ğ‘’ _ğ‘›ğ‘¢ğ‘‘ğ‘”ğ‘’ğ‘ âˆª{(ğ‘¢,ğ‘–)âˆ€ğ‘–âˆˆ
ğ‘ğ‘ğ‘›ğ‘‘ğ‘–ğ‘‘ğ‘ğ‘¡ğ‘’ğ‘ }
end for
ğ‘Ÿğ‘ğ‘›ğ‘˜ğ‘’ğ‘‘ _ğ‘›ğ‘¢ğ‘‘ğ‘”ğ‘’ğ‘ â†NudgeRankRecSys( G,ğ‘ğ‘ğ‘›ğ‘‘ğ‘–ğ‘‘ğ‘ğ‘¡ğ‘’ _ğ‘›ğ‘¢ğ‘‘ğ‘”ğ‘’ğ‘  )
ğ‘“ğ‘–ğ‘™ğ‘¡ğ‘’ğ‘Ÿğ‘’ğ‘‘ _ğ‘›ğ‘¢ğ‘‘ğ‘”ğ‘’ğ‘ â†ConstraintsFilter( ğ‘Ÿğ‘ğ‘›ğ‘˜ğ‘’ğ‘‘ _ğ‘›ğ‘¢ğ‘‘ğ‘”ğ‘’ğ‘  )
ğ‘ğ‘’ğ‘Ÿğ‘ ğ‘œğ‘›ğ‘ğ‘™ _ğ‘›ğ‘¢ğ‘‘ğ‘”ğ‘’ğ‘ â†ContentPersonalizer( ğ‘“ğ‘–ğ‘™ğ‘¡ğ‘’ğ‘Ÿğ‘’ğ‘‘ _ğ‘›ğ‘¢ğ‘‘ğ‘”ğ‘’ğ‘  )
ğ‘›ğ‘¢ğ‘‘ğ‘”ğ‘’ğ‘ â†ğ‘›ğ‘¢ğ‘‘ğ‘”ğ‘’ğ‘ âˆªğ‘ğ‘’ğ‘Ÿğ‘ ğ‘œğ‘›ğ‘ğ‘™ _ğ‘›ğ‘¢ğ‘‘ğ‘”ğ‘’ğ‘ 
end for
returnğ‘›ğ‘¢ğ‘‘ğ‘”ğ‘’ğ‘ 
4878NudgeRank: Digital Algorithmic Nudging for Personalized Health KDD â€™24, August 25â€“29, 2024, Barcelona, Spain
3.2.5 Operations and Automation. To streamline production oper-
ations, the key pipelines in the system are fully automated. DevOps
Engineers and Data Scientists can monitor the system and be alerted
of any issues, in order to investigate and fix them quickly. The Model
Trainer automatically fine-tunes the model daily as the graph gets
updated with new data about user states and nudge interactions, to
ensure that model learns about user preferences in a timely manner.
This was especially critical in the cold start period when the system
was first launched and users interacted with nudges for the first
time. Batch scoring as described in the preceding section is also au-
tomated on a schedule, as data is ingested from the source systems.
Finally, all pipelines capture system telemetry including graph at-
tributes (e.g. number of nodes and edges, number of users, number
of nudges), pipeline performance (e.g. execution time) and model
performance during training and fine-tuning (e.g. recommendation
metrics).
3.2.6 Security and Privacy. Privacy and security of information is
paramount when dealing with health data, especially in cases where
the data comes from medical records. To ensure that the system
complies with global data protection standards for health data,
NudgeRankâ„¢ is designed to work without any Personal Identifiable
Information (PII) such as names or addresses. All user IDs in the
system are pseudonymous masked IDs, and the system does not
require any PII to perform its functions.
Furthermore, the system is designed to be deployed in "air gapped"
environments with private networks and no public Internet access
(including private networks in the cloud), to ensure that there is
no risk of data egress. Data belonging to a healthcare provider or
health program never leaves their environment; rather, NudgeR-
ankâ„¢ is deployed in their environment with automated CI/CD for
deployments, and remote monitoring of aggregated and anonymous
system telemetry for daily operations.
4 RESULTS
We evaluated NudgeRankâ„¢ in a large-scale deployment in Sin-
gapore, in collaboration with HPB. The system was launched in
production in July 2022 as part of several beta tests involving se-
lected users. In July 2023, the system was launched for all users,
and has since been generating personalized nudges for over 1.1
million users daily. All users had previously given consent for their
fitness data to be collected via the Healthy 365 mobile app, and
for their data to be used to send personalized messages, nudges or
notifications, and for evaluation of results.
The system was deployed in HPBâ€™s Azure cloud environment,
with all data required for model updates and generating recom-
mendations remaining in the secure cloud environment. A 10-node
Kubernetes cluster was used, with each node having 16 vCPUs and
128 GB RAM. Data was stored in Azure Data Lake Gen2, a cloud
storage service supporting blobs in a hierarchical namespace.
With input from business requirements, the system was con-
figured with the following parameters (described above): ğ‘=8,
ğ‘˜ğ‘‘ğ‘ğ‘–ğ‘™ğ‘¦ =1,ğ‘ğ‘‘ğ‘–ğ‘£ğ‘’ğ‘Ÿğ‘ ğ‘–ğ‘¡ğ‘¦ =0.3, andğ‘‘ğ‘›ğ‘’ğ‘”_ğ‘“ğ‘–ğ‘™ğ‘¡ğ‘’ğ‘Ÿ =7.
4.1 Model Performance
In the first limited beta phase, nudges were sent to about 100,000
randomly selected users for a period of 4 months, and the interactiondata were collected to tune the hyperparameters of the model. The
following hyperparameters were evaluated using a grid search: the
dimension size of entity and relation embeddings, and the number
of graph convolution layers and their respective embedding sizes
of the hidden layers. For each combination of hyperparameters, the
model was trained on the knowledge graph with 25% of user-nudge
interactions randomly hidden, and tested on the knowledge graph
including those 25% unseen interactions.
We theorized that behavior change via nudging starts with sim-
ply interacting with the nudges by opening or rating them. The
more nudges are opened, the more likely it is that users have read
them, and therefore make a choice about their behaviors. Therefore,
offline evaluation focused on the modelâ€™s ability to recommend
top 3 daily nudges that users were most likely to interact with.
ğ‘ƒğ‘Ÿğ‘’ğ‘ğ‘–ğ‘ ğ‘–ğ‘œğ‘› @3was chosen as the primary evaluation metric, since it
represents the proportion of the 3 recommended nudges that lead
to user interaction.
Table 1 shows the list of parameters tested, with the parameter
combination that produced the best offline evaluation score of
ğ‘ƒğ‘Ÿğ‘’ğ‘ğ‘–ğ‘ ğ‘–ğ‘œğ‘› @3=0.0652. This parameter combination was set up
in the system for subsequent nudge recommendations. Table 2
compares this with the best-performing parameter combinations
for 1-, 2- and 3-layer models. The 2-layer model achieved the highest
ğ‘ƒğ‘Ÿğ‘’ğ‘ğ‘–ğ‘ ğ‘–ğ‘œğ‘› @3; notably, this is 0.0201 (45%) higher than the 1-layer
model that serves as a baseline for comparison.
After nudges were rolled out at full scale, we added more metrics
(ğ‘€ğ‘’ğ‘ğ‘›ğ´ğ‘£ğ‘’ğ‘Ÿğ‘ğ‘”ğ‘’ğ‘ƒğ‘Ÿğ‘’ğ‘ğ‘–ğ‘ ğ‘–ğ‘œğ‘› ,ğ‘ğ·ğ¶ğº @3andğ‘…ğ‘’ğ‘ğ‘ğ‘™ğ‘™ @3), and continued
to monitor the offline metrics during daily incremental model up-
dates. The screenshot in Figure 4 was captured from the systemâ€™s
monitoring dashboards, showing that model metrics experienced
daily fluctuations within fairly tight ranges. The standard devia-
tions of the metrics ranged from 0.00684 for ğ‘ƒğ‘Ÿğ‘’ğ‘ğ‘–ğ‘ ğ‘–ğ‘œğ‘› @3to 0.00996
forğ‘…ğ‘’ğ‘ğ‘ğ‘™ğ‘™ @3over the 4 month period from August 2023 to Novem-
ber 2023, indicating that model performance was fairly stable over
time.
4.2 Impact of Nudging on Physical Activity
Arguably the most important outcome to evaluate is whether NudgeR-
ankâ„¢ is effective at improving health behaviors via nudging. We
evaluated this over a 12-week period, where daily personalized
nudges were sent to ğ‘›=84,764randomly selected users of the
Healthy 365 mobile app, to encourage them to do more physical
activity including steps and MVPA. A matched control group of
ğ‘›=84,903users with the same demographics (age and sex) and
baseline behaviors (mean steps and MVPA before nudging) were
also selected to compare the effect of nudging. Users in the control
group did not get any personalized nudges.
Over the 12-week period, users who received daily personalized
nudges performed 6.17% more average daily steps and 7.61% more
average weekly minutes of MVPA than users who did not receive
any nudges. These results were statistically significant at ğ›¼=0.05
on one-tailed independent samples t-tests comparing both groups
(Table 3). When the behaviors of the nudge and no nudge groups
were measured on a weekly basis for each of the 12 weeks, they
remained significantly different for all 12 weeks for steps, and 10
4879KDD â€™24, August 25â€“29, 2024, Barcelona, Spain Jodi Chiam, Aloysius Lim, and Ankur Teredesai
Table 1: Hyperparameters tested, and final best hyperparameters.
Hyperparameter Search space Selected Best Value
Dimension of entity embeddings 16, 32, 64 32
Dimension of relation embeddings 16, 32, 64 32
Convolution layers & dimension of hidden layers1 layer: [16], [32], [64]
2 layers: [32, 16], [64, 32]
3 layers: [64, 32, 16], [32, 16, 8]2 layers: [32, 16]
Table 2: Optimal parameters and offline evaluation results of the best 1-, 2-, and 3-layer models.
No. of Layers Dimension of entity embeddings Dimension of relation embeddings Dimension of hidden layers ğ‘ƒğ‘Ÿğ‘’ğ‘ğ‘–ğ‘ ğ‘–ğ‘œğ‘› @3
1 64 64 [64] 0.0451
2 32 32 [32, 16] 0.0652
3 64 64 [64, 32, 16] 0.0401
Figure 4: Evaluation metrics from daily automated model updates, showing the minimum, maximum, mean and standard
deviation of Mean Average Precision (map), Normalized Discounted Cumulative Gain @ 3 (ndcg@k), Precision @ 3 (p@k) and
Recall @ 3 (r@k).
Table 3: Impact of nudging on physical activity. ğ‘-values were
computed on one-tailed independent samples t-tests.
GroupNo Nudges
(Control)Daily Nudges
(Treatment)ğ‘
Daily Steps 2,908.6 3,088.1 (+6.17%) 3.09Ã—10âˆ’4
Weekly MVPA 47.0 50.6 (+7.61%) 1.16Ã—10âˆ’2
out of 12 weeks for MVPA, suggesting that behavior differences
were sustained and persistent.
Participants who opened more nudges were also found to have
been more physically active. For example, participants who opened
0, 1, 2 andâ‰¥3 nudges during the 12 weeks walked a mean of
2,491, 3,213, 3,588 and 4,445 daily steps, respectively. This suggests
a positive relationship between nudge engagement and behavior.
Furthermore, nudges were generally well received. A total of
1.12 million nudges sent during this period, comprising 660,000
nudges to encourage steps and 460,000 nudges for MVPA. 13.1% ofall nudges were opened, out of which, 6 times more nudges were
rated useful (11.7%) than not useful (1.9%) by users.
Appendix reports more representative results from this study on
the impact of nudges on physical activity; for full coverage, see [ 5].
4.3 System Scalability and Performance
On a daily basis, the production system generates nudges for over
1 million users. The typical size of the knowledge graph (which has
small daily fluctuations) is reported in Table 4. In order to ensure
that nudges are generated in time to be sent each day, a perfor-
mance test was conducted to evaluate how total execution time
increases with the number of candidate nudges that need to be
ranked. Synthetic data was created to generate a larger number of
candidate user-nudge pairs than was available in the production
system, ranging from 300 thousand to 19 billion candidate pairs. For
each set of candidate nudges, the system was executed with 8 paral-
lel batches, with each batch process running on a Kubernetes node
with 16 vCPUs and 128GB RAM. The total end-to-end execution
time of Parallel NudgeRankâ„¢ (Algorithm 1) was recorded.
4880NudgeRank: Digital Algorithmic Nudging for Personalized Health KDD â€™24, August 25â€“29, 2024, Barcelona, Spain
Table 4: Typical graph attributes in daily automatic model
training.
Attribute Value
Number of nodes 3.1 million
Number of edges 5.7 million
Density 5.93Ã—10âˆ’7
Figure 5: Results of execution time versus volume of candi-
date user-nudge pairs to be scored.
The results in Figure 5 show a strong correlation ( ğ‘…2=0.9997)
between the number of candidate user-nudge pairs and the total
execution time of the system. Scoring 300 thousand candidate pairs
on the tested infrastructure took 22 minutes. This grew linearly to
138 minutes to score 19 billion candidate pairs. The results indicate
that the system is able to scale linearly to process increased demand
of future workloads. Furthermore, the parallel design of the system
makes it trivial to reduce the overall execution time, by adding
more compute resources to the cluster.
Daily model updates were also computationally efficient in the
production system, with the Model Trainer taking between 90 and
150 minutes to update the model with the latest daily knowledge
graph. The variation in time was mainly due to the different number
of epochs required by the model to converge, as data inputs changed
day to day. The short time required for model update allows it to
be scheduled daily, during system off-peak hours.
At the time of writing, the system has been running daily for
over 18 months, indicating the high level of reliability achieved in
its design.
5 DISCUSSION
We presented the design and implementation results of a production-
scale RecSys for digital algorithmic nudging, and demonstrated the
ability of the NudgeRankâ„¢ system to not only improve health be-
haviors, but also to do it at scale for a large population, and with a
high level of performance and reliability. Although the system was
first evaluated on physical activity (steps and MVPA), it is designedto be easily deployed for any other use cases where it is important
to influence usersâ€™ health behaviors, for example, diabetes man-
agement, nutrition, sleep, smoking cessation, pre- / post-operative
care, and many others.
The system was launched to users in a progressive rollout, start-
ing with fewer users and gradually increasing to the full user base
over a period of 12 months. This allowed the system to be moni-
tored and improved in iterations to address operational issues. For
example, Parallel NudgeRankâ„¢ (Algorithm 1) was developed in
response to the increased load, as nudges were enabled for more
users. The monitoring dashboards that recorded model performance
and nudge engagement provided useful real-time insights into the
systemâ€™s daily operations for observability and troubleshooting.
A number of future improvements are under development. Re-
inforcement Learning can be used to provide goal-directed recom-
mendations, where nudges are based not only on user preferences,
but also consider the "next best action" that a user should take
towards stated health goals. The Knowledge Graph can be updated
with more node and edge types, providing richer context for per-
sonalized recommendations. Large Language Models can be used
to enrich the graph with semantic information, for example about
nudge content, as well as add external knowledge about relevant
health topics.
This work is just the first step in improving population-level
health behaviors through personalization. As the future iterations
of the system bring new capabilities and the system is deployed
and evaluated on other health use cases and different populations,
there is tremendous potential to effect sustained behavior change
at scale, leading to meaningful improvements in population health
outcomes.
ACKNOWLEDGMENTS
The Health Promotion Board of Singapore provided the Healthy
365 mobile application and data on which the NudgeRankâ„¢ system
was deployed and evaluated in this study.
REFERENCES
[1]Rita Abdel Sater, Mathilde Mus, Valentin Wyart, and Coralie Chevallier. 2023. A
zero-cost attention-based approach to promote cleaner streets: A Signal Detection
Theory approach in Parisian streets. Plos one 18, 4 (2023), e0284272.
[2]Ashton Anderson, Lucas Maystre, Ian Anderson, Rishabh Mehrotra, and Mounia
Lalmas. 2020. Algorithmic effects on the diversity of consumption on spotify. In
Proceedings of the web conference 2020. 2155â€“2165.
[3]Laura Carrasco-Hernandez, Francisco JÃ³dar-SÃ¡nchez, Francisco NÃºÃ±ez-Benjumea,
JesÃºs Moreno Conde, Marco Mesa GonzÃ¡lez, AntÃ³n Civit-Balcells, Santiago Hors-
Fraile, Carlos Luis Parra-CalderÃ³n, Panagiotis D Bamidis, Francisco Ortega-Ruiz,
et al.2020. A mobile health solution complementing psychopharmacology-
supported smoking cessation: randomized controlled trial. JMIR mHealth and
uHealth 8, 4 (2020), e17530.
[4]Rung-Ching Chen, Jiun Yao Chiu, and Cho Tsan Batj. 2011. The recommen-
dation of medicines based on multiple criteria decision making and domain
ontologyâ€”An example of anti-diabetic medicines. In 2011 International Confer-
ence on Machine Learning and Cybernetics, Vol. 1. IEEE, 27â€“32.
[5]Jodi Chiam, Aloysius Lim, Cheryl Nott, Nicholas Mark, Ankur Teredesai, and
Sunil Shinde. 2024. Co-Pilot for Health: Personalized Algorithmic AI Nudging to
Improve Health Outcomes. arXiv:2401.10816 [cs.HC]
[6]Sunny Consolvo, David W McDonald, Tammy Toscos, Mike Y Chen, Jon Froehlich,
Beverly Harrison, Predrag Klasnja, Anthony LaMarca, Louis LeGrand, Ryan Libby,
et al.2008. Activity sensing in the wild: a field trial of ubifit garden. In Proceedings
of the SIGCHI conference on human factors in computing systems. 1797â€“1806.
[7]Paul Covington, Jay Adams, and Emre Sargin. 2016. Deep neural networks
for youtube recommendations. In Proceedings of the 10th ACM conference on
recommender systems. 191â€“198.
4881KDD â€™24, August 25â€“29, 2024, Barcelona, Spain Jodi Chiam, Aloysius Lim, and Ankur Teredesai
[8]Charalampos Doulaverakis, George Nikolaidis, Athanasios Kleontas, and Ioan-
nis Kompatsiaris. 2014. Panacea, a semantic-enabled drug recommendations
discovery framework. Journal of biomedical semantics 5 (2014), 1â€“10.
[9]Xavier Glorot and Yoshua Bengio. 2010. Understanding the difficulty of training
deep feedforward neural networks. In Proceedings of the thirteenth international
conference on artificial intelligence and statistics. JMLR Workshop and Conference
Proceedings, 249â€“256.
[10] David H Gustafson, Fiona M McTavish, Ming-Yuan Chih, Amy K Atwood,
Roberta A Johnson, Michael G Boyle, Michael S Levy, Hilary Driscoll, Steven M
Chisholm, Lisa Dillenburg, et al .2014. A smartphone application to support
recovery from alcoholism: a randomized clinical trial. JAMA psychiatry 71, 5
(2014), 566â€“572.
[11] Santiago Hors-Fraile, Francine Schneider, Luis Fernandez-Luque, Francisco Luna-
Perejon, Anton Civit, Dimitris Spachos, Panagiotis Bamidis, and Hein de Vries.
2018. Tailoring motivational health messages for smoking cessation using an
mHealth recommender system integrated with an electronic health record: a
study protocol. BMC public health 18, 1 (2018), 1â€“10.
[12] Marlijn Huitink, Maartje P Poelman, Emma van den Eynde, Jacob C Seidell, and
S Coosje Dijkstra. 2020. Social norm nudges in shopping trolleys to promote
vegetable purchases: A quasi-experimental study in a supermarket in a deprived
urban area in the Netherlands. Appetite 151 (2020), 104655.
[13] Zhiguo Li, Subhro Das, James Codella, Tian Hao, Kun Lin, Chandramouli Maduri,
and Ching-Hua Chen. 2018. An adaptive, data-driven personalized advisor for
increasing physical activity. IEEE journal of biomedical and health informatics 23,
3 (2018), 999â€“1010.
[14] Peng Liao, Kristjan Greenewald, Predrag Klasnja, and Susan Murphy. 2020. Per-
sonalized heartsteps: A reinforcement learning algorithm for optimizing physical
activity. Proceedings of the ACM on Interactive, Mobile, Wearable and Ubiquitous
Technologies 4, 1 (2020), 1â€“22.
[15] Greg Linden, Brent Smith, and Jeremy York. 2003. Amazon. com recommenda-
tions: Item-to-item collaborative filtering. IEEE Internet computing 7, 1 (2003),
76â€“80.
[16] Matheus Mistura, Nicole Fetterly, Ryan E Rhodes, Dona Tomlin, and Patti-Jean
Naylor. 2019. Examining the efficacy of a â€˜feasibleâ€™nudge intervention to increase
the purchase of vegetables by first year university students (17â€“19 years of age)
in British Columbia: a pilot study. Nutrients 11, 8 (2019), 1786.
[17] Inbal Nahum-Shani, Shawna N Smith, Bonnie J Spring, Linda M Collins, Katie
Witkiewitz, Ambuj Tewari, and Susan A Murphy. 2018. Just-in-time adaptive
interventions (JITAIs) in mobile health: key components and design principles
for ongoing health behavior support. Annals of Behavioral Medicine (2018), 1â€“17.
[18] Jianmo Ni, Larry Muhlstein, and Julian McAuley. 2019. Modeling heart rate and
activity data for personalized fitness recommendation. In The World Wide Web
Conference. 1343â€“1353.
[19] World Health Organization. 2023. Fact sheet: Noncommunicable diseases. Re-
trieved January 9, 2024 from https://www.who.int/news-room/fact-sheets/detail/noncommunicable-diseases
[20] Kevin Patrick, Fred Raab, Marc Adams, Lindsay Dillon, Marion Zabinski, Cheryl
Rock, William Griswold, Gregory Norman, et al .2009. A text message-based
intervention for weight loss: randomized controlled trial. Journal of medical
Internet research 11, 1 (2009), e1100.
[21] Yanru Qu, Ting Bai, Weinan Zhang, Jianyun Nie, and Jian Tang. 2019. An
end-to-end neighborhood-based interaction model for knowledge-enhanced rec-
ommendation. In Proceedings of the 1st international workshop on deep learning
practice for high-dimensional sparse data. 1â€“9.
[22] Leanne Riley and Melanie Cowan. 2022. Noncommunicable diseases progress
monitor 2022. Technical Report. World Health Organization.
[23] William Riley, Jami Obermayer, and Jersino Jean-Mary. 2008. Internet and mobile
phone text messaging intervention for college smokers. Journal of American
College Health 57, 2 (2008), 245â€“248.
[24] Carlos Luis Sanchez Bocanegra, Jose Luis Sevillano Ramos, Carlos Rizo, Anton
Civit, and Luis Fernandez-Luque. 2017. HealthRecSys: A semantic content-based
recommender system to complement health videos. BMC medical informatics
and decision making 17, 1 (2017), 1â€“10.
[25] Richard H. Thaler and Cass R. Sunstein. 2009. Nudge: Improving decisions about
health, wealth, and happiness. Penguin Books.
[26] Petar VeliÄkoviÄ‡, Guillem Cucurull, Arantxa Casanova, Adriana Romero, Pietro
Lio, and Yoshua Bengio. 2017. Graph attention networks. arXiv preprint
arXiv:1710.10903 (2017).
[27] Hongwei Wang, Fuzheng Zhang, Jialin Wang, Miao Zhao, Wenjie Li, Xing Xie,
and Minyi Guo. 2018. Ripplenet: Propagating user preferences on the knowledge
graph for recommender systems. In Proceedings of the 27th ACM international
conference on information and knowledge management. 417â€“426.
[28] Hongwei Wang, Miao Zhao, Xing Xie, Wenjie Li, and Minyi Guo. 2019. Knowledge
graph convolutional networks for recommender systems. In The world wide web
conference. 3307â€“3313.
[29] Xiang Wang, Xiangnan He, Yixin Cao, Meng Liu, and Tat-Seng Chua. 2019. Kgat:
Knowledge graph attention network for recommendation. In Proceedings of the
25th ACM SIGKDD international conference on knowledge discovery & data mining .
950â€“958.
[30] Rex Ying, Ruining He, Kaifeng Chen, Pong Eksombatchai, William L Hamilton,
and Jure Leskovec. 2018. Graph convolutional neural networks for web-scale
recommender systems. In Proceedings of the 24th ACM SIGKDD international
conference on knowledge discovery & data mining. 974â€“983.
[31] Jun Zhao, Zhou Zhou, Ziyu Guan, Wei Zhao, Wei Ning, Guang Qiu, and Xiaofei
He. 2019. Intentgc: a scalable graph convolution framework fusing heteroge-
neous information for recommendation. In Proceedings of the 25th ACM SIGKDD
International Conference on Knowledge Discovery & Data Mining. 2347â€“2357.
[32] Di Zhu, Gang Zhao, and Xia Wang. 2021. Association of smoking and smoking
cessation with overall and cause-specific mortality. American Journal of Preventive
Medicine 60, 4 (2021), 504â€“512.
4882NudgeRank: Digital Algorithmic Nudging for Personalized Health KDD â€™24, August 25â€“29, 2024, Barcelona, Spain
A APPENDIX: POPULATION HEALTH AND
NUDGE EFFICACY RESULTS
This section provides representative results of the study on impact
of nudging on physical activity, namely steps and Moderate to
Vigorous Physical Activity (MVPA).
For complete coverage and details, please refer to [5].
A.1 Background
The Health Promotion Board of Singapore (HPB) operates the
Healthy 365 mobile app, with over 700,000 active participants in
the National Steps Challengeâ„¢ (NSC), HPBâ€™s program to encourage
physical activity in the Singapore population. Healthy 365 is also
used by over 1.1 million participants in Eat Drink Shop Healthy
(EDSH), its program to encourage better nutrition via healthy food
purchases1.
Traditionally, mass marketing efforts such as roadshows, broad-
casts and social media were the main channels of engagement to
encourage active participation in these programs. As part of a beta
launch of NudgeRankâ„¢ integrated with Healthy 365, a study was
conducted to evaluate the impact of digital algorithmic nudging on
physical activity behavior such as steps and MVPA.
A.2 Study Design
An A/B test was conducted to evaluate the impact of nudging
over 12 weeks versus no nudging on subsequent steps and MVPA
behavior. A total of 169,667 users were randomly selected from
the existing pool of NSC participants, which comprised 14,901
participants who were only enrolled in NSC (Group 1), and 154,766
who were enrolled in both NSC and EDSH (Group 2). Because the
underlying characteristics of these groups were different, they were
analyzed as two separate groups to ensure fair comparison of results.
Each group of participants were further split into two cohorts who
of roughly equal size, and equally matched on key characteristics
including demographics, baseline behaviors (before the start of
nudging), mobile OS, and brand of fitness trackers. These cohorts
were named "Nudges" and "No Nudges". Table 5 summarizes the
number of participants and their characteristics in each group and
cohort.
HPB subject matter experts authored a total of 96 nudges in the
Nudge Library, comprising 31 nudges targeting steps as the behavior
goal, and 65 targeting MVPA. During the 12-week study period,
NudgeRankâ„¢ generated 1 nudge per day for participants in the
"Nudges" groups only, which were delivered via push notifications
to Healthy 365 mobile app. Participants in the "No Nudges" groups
did not receive any nudges.
All participants continued to be exposed to the usual commu-
nications and mass marketing efforts conducted by the respective
programs. Besides the experimental variable of nudges versus no
nudges, there were no other differences in how they were treated.
The daily steps and MVPA behavior of participants were col-
lected during the 12 week study via Healthy 365, to evaluate the
impact of nudging on those behaviors. One-tailed independent sam-
plesğ‘¡-tests were performed to evaluate the differences between the
"Nudges" and "No Nudges" groups.
1https://www.hpb.gov.sg/docs/default-source/pdf/hpb-2022_2023-annual-report.pdf
Figure 6: Dose response relationship between number of
nudges opened and physical activity (steps and MVPA).
HPB approved the study design, and all participants had previ-
ously given consent for their fitness data to be collected, for their
data to be used to send marketing collateral and personalized mes-
sages, nudges or notifications, and for evaluation of results.
A.3 Results
During the 12-week period, a total of 1.12 million nudges were
sent, achieving an open rate of 13.1% (147k nudges), which was
significantly higher than existing baseline open rates of about 4%.
Out of the nudges opened, 6 times more nudges were rated useful
(11.7%) versus not useful (1.9%), suggesting that the nudges were
very well received by participants.
The behavior data collected revealed a significant impact of
digital nudging in increasing physical activity. Group 1 "Nudges"
participants performed 6.17% more daily steps (3,088 vs. 2,909 steps;
ğ‘=3.09Ã—10âˆ’4and 7.61% more weekly minutes of MVPA (50.6
vs. 47.0 minutes; ğ‘=1.16Ã—10âˆ’2)than Group 1 "No Nudges"
participants. The results were statistically significant at ğ›¼=0.05,
indicating that the nudges were effective in increasing both steps
and MVPA behavior.
The effects on Group 2 participants, though smaller, were still sta-
tistically significant at ğ›¼=0.05. Group 2 "Nudges" participants per-
formed 1.89% more daily steps (3,900 vs. 3,827 steps; ğ‘=2.85Ã—10âˆ’4)
and 2.46% more weekly minutes of MVPA (88.4 vs. 86.2 minutes;
ğ‘=2.02Ã—10âˆ’2)than Group 2 "No Nudges" participants. We noted
that Group 2 participants were already naturally more physically
active than Group 1 participants (refer to their mean daily steps
and MVPA at start of experiment, in Table 5), so perhaps the op-
portunity to drive behavior change of a similar magnitude was
smaller.
4883KDD â€™24, August 25â€“29, 2024, Barcelona, Spain Jodi Chiam, Aloysius Lim, and Ankur Teredesai
Group Group 1: Participants in physical activity program
(NSC) onlyGroup 2: Participants in both physical activity
(NSC) and nutrition (EDSH) programs
Group n 14,901 154,766
Treatment No Nudges Nudges No Nudges Nudges
n 7,465 7,436 77,438 77,328
Mean age 47.2 47.6 46.0 46.0
% Female 48.0 47.7 62.9 63.1
% Male 52.0 52.3 37.1 36.9
Mean Daily Steps (start of
experiment)3,138 3,153 4,154 4,159
Mean Weekly MVPA
(start of experiment)39.5 40.0 85.8 86.8
% iOS 44.6 44.5 43.1 43.2
% Android 55.4 55.5 56.9 56.8
% Apple Watch 17.2 16.1 16.3 16.5
% Fitbit 6.2 6.3 9.8 9.9
% Garmin 8.0 7.2 6.3 6.1
% Samsung Watch 7.2 6.9 9.4 9.3
% HPB Tracker 61.0 63.2 56.8 56.7
% Other Fitness Trackers 0.4 0.3 1.4 1.5
Table 5: Participants in control and treatment groups, and their characteristics.
The results also revealed a dose response relationship between
the number of nudges opened by "Nudges" participants during the
12 weeks and physical activity (Figure 6). Participants who opened
more nudges tended to walk more steps during the 12 weeks. For
MVPA, this relationship was more apparent in Group 1 than in
Group 2.Overall, the results of this study provided strong evidence that
algorithmic digital nudging can effect behavior change (physical
activity in this case) across a large and diverse population. Nudging
can be further extended to other types of health behaviors like
nutrition, sleep and smoking cessation, with the potential to drive
tremendous benefits in population health outcomes.
4884