Max-Min Diversification with Asymmetric Distances
Iiro Kumpulainen
iiro.kumpulainen@helsinki.fi
University of Helsinki
Helsinki, FinlandFlorian Adriaens
florian.adriaens@helsinki.fi
University of Helsinki, HIIT
Helsinki, FinlandNikolaj Tatti
nikolaj.tatti@helsinki.fi
University of Helsinki, HIIT
Helsinki, Finland
ABSTRACT
One of the most well-known and simplest models for diversity max-
imization is the Max-Min Diversification (MMD) model, which has
been extensively studied in the data mining and database literature.
In this paper, we initiate the study of the Asymmetric Max-Min
Diversification (AMMD) problem. The input is a positive integer ğ‘˜
and a complete digraph over ğ‘›vertices, together with a nonnega-
tive distance function over the edges obeying the directed triangle
inequality. The objective is to select a set of ğ‘˜vertices, which maxi-
mizes the smallest pairwise distance between them. AMMD reduces
to the well-studied MMD problem in case the distances are sym-
metric, and has natural applications to query result diversification,
web search, and facility location problems. Although the MMD
problem admits a simple1
2-approximation by greedily selecting the
next-furthest point, this strategy fails for AMMD and it remained
unclear how to design good approximation algorithms for AMMD.
We propose a combinatorial1
6ğ‘˜-approximation algorithm for
AMMD by leveraging connections with the Maximum Antichain
problem. We discuss several ways of speeding up the algorithm and
compare its performance against heuristic baselines on real-life and
synthetic datasets.
CCS CONCEPTS
â€¢Theory of computation â†’Approximation algorithms anal-
ysis; â€¢Mathematics of computing â†’Graph theory.
KEYWORDS
Max-Min Diversification, Asymmetry, Maximum Antichain
ACM Reference Format:
Iiro Kumpulainen, Florian Adriaens, and Nikolaj Tatti. 2024. Max-Min Di-
versification with Asymmetric Distances. In Proceedings of the 30th ACM
SIGKDD Conference on Knowledge Discovery and Data Mining (KDD â€™24),
August 25â€“29, 2024, Barcelona, Spain. ACM, New York, NY, USA, 11 pages.
https://doi.org/10.1145/3637528.3671757
1 INTRODUCTION
Diversity maximization is a fundamental problem with natural
applications to query result diversification [ 24,26], recommender
systems [ 1,15,35], information exposure in social networks [ 45],
web search [ 8,55,56,66], feature selection [ 67] and data summa-
rization [ 18,20,42,69]. In a typical diverse data selection problem,
one is interested in finding a diverse group of items within the data,
This work is licensed under a Creative Commons Attribution
International 4.0 License.
KDD â€™24, August 25â€“29, 2024, Barcelona, Spain
Â©2024 Copyright held by the owner/author(s).
ACM ISBN 979-8-4007-0490-1/24/08
https://doi.org/10.1145/3637528.3671757Guam Int.MerceditaA
dak
Pago
PagoDel
Norte County
Figure 1: The result of our algorithm BCF forğ‘˜=5on the
Flights Delay dataset [51]. It shows 5 airports located in U.S.
territory which require a large flight time between any two
of them, averaged over all flights in 2015. The airports are all
spread out over different U.S. territories (Puerto Rico, Guam,
American Samoa) and/or states (Alaska, California).
meaning that the selected items should be highly dissimilar to each
other. Typically, one is interested in finding sets of fixed and small
sizes.
A simple and popular model for diversity maximization is the
Max-Min Diversification (MMD) model. In this model, the data is
represented as a universe of points ğ‘ˆof size|ğ‘ˆ|=ğ‘›, and we are
given a nonnegative distance function ğ‘‘:ğ‘ˆÃ—ğ‘ˆâ†’Râ‰¥0measuring
the dissimilarity between points. If ğ‘‘(ğ‘¢,ğ‘£)is large, then ğ‘¢andğ‘£are
highly dissimilar and vice versa. The space (ğ‘ˆ,ğ‘‘)is a pseudometric1,
implying that for all ğ‘¢,ğ‘£,ğ‘¤âˆˆğ‘ˆ:ğ‘‘(ğ‘¢,ğ‘¢)=0,ğ‘‘(ğ‘¢,ğ‘£)=ğ‘‘(ğ‘£,ğ‘¢)
(symmetry), and ğ‘‘(ğ‘¢,ğ‘£)â‰¤ğ‘‘(ğ‘¢,ğ‘¤)+ğ‘‘(ğ‘¤,ğ‘£)(triangle inequality).
Thediversity score div(ğ‘†)of a set of points ğ‘†âŠ†ğ‘ˆis then defined as
the smallest distance between any two distinct points in ğ‘†. Formally,
div(ğ‘†)=min
ğ‘¢,ğ‘£âˆˆğ‘†
ğ‘¢â‰ ğ‘£ğ‘‘(ğ‘¢,ğ‘£). (1)
The Max-Min Diversification (MMD) problem asks, given an inte-
gerğ‘˜, to find a set ğ‘†âŠ†ğ‘ˆof size|ğ‘†|=ğ‘˜which maximizes div(ğ‘†).
The MMD problem has originally been studied in the operations re-
search literature as the max-min dispersion problem or ğ‘˜-dispersion
problem [ 27,37,57,61]. The problem naturally describes a facility
location problem where the proximity of selected facilities is unde-
sirable. Facilities that are close to each other might be undesirable
due to economic or safety reasons. Examples include the placement
of store warehouses, nuclear power plants, or ammunition depot
storages.
This paper initiates the study of the asymmetric generalization
of the MMD problem, which will be referred to as the Asymmet-
ric Max-Min Diversification problem (AMMD). AMMD allows for
1Contrary to a metric, a pseudometric allows ğ‘‘(ğ‘¢,ğ‘£)=0for distinctğ‘¢â‰ ğ‘£.
 
1440
KDD â€™24, August 25â€“29, 2024, Barcelona, Spain Iiro Kumpulainen, Florian Adriaens, & Nikolaj Tatti
ğ‘¢2
ğ‘¢1
ğ‘¢4ğ‘¢5ğ‘¢3
Figure 2: An input graph to AMMD on which the known1
2-
approximations for symmetric MMD perform poorly. A blue
directed edge(ğ‘¢,ğ‘£)indicates that the distance ğ‘‘(ğ‘¢,ğ‘£)is zero.
All other distances (edges not drawn) are equal to some ğ‘…>0.
These distances satisfy the directed triangle inequality. For
ğ‘˜=3the optimal solution is ğ‘‚={ğ‘¢1,ğ‘¢2,ğ‘¢3}, with optimum
div(ğ‘‚)=ğ‘…. The greedy algorithm from [ 61] picks an arbitrary
initial node. If ğ‘¢4orğ‘¢5are selected we get a solution value of
zero, regardless of how the remaining two nodes are selected.
Similarly, the algorithm of [ 57] initially selects a node pair
with maximum distance. This could be (ğ‘¢4,ğ‘¢5), since ties are
broken arbitrarily, again resulting in a zero-valued solution.
asymmetric distances ğ‘‘(ğ‘¢,ğ‘£)â‰ ğ‘‘(ğ‘£,ğ‘¢)forğ‘¢â‰ ğ‘£âˆˆğ‘ˆ, while retain-
ing all other properties of the MMD model such as the triangle
inequality. A formal problem statement is given by Problem 1.
There are two good reasons for studying AMMD. First, it can
be argued that many real-world similarity measures and distances
are in fact not symmetric. Straightforward examples are one-way
traffic roads, uphill/downhill traveling, one-sided friendships and
asymmetric flight times between airports, among others [ 40,41,58].
Hence, one should consider studying models incorporating this
property.
Secondly, for many optimization problems, the asymmetric gen-
eralization requires different, often more complicated, approxima-
tion algorithms than their symmetric restrictions. Additionally,
they might also be significantly harder to approximate. An exam-
ple is the Î©(logâˆ—ğ‘›)-hardness result [ 22] for asymmetric ğ‘˜-center,2
and the corresponding O(logâˆ—ğ‘›)-approximation algorithms [ 6,53].
Another example is the asymmetric traveling salesman problem,
for which only recently a constant-factor approximation has been
discovered [60].
Designing approximation algorithms for AMMD is seemingly
also more challenging than for MMD. While MMD admits a greedy
1
2-approximation by iteratively selecting the next-furthest point
until a set of size ğ‘˜is obtained [ 57,61], this greedy strategy can
perform arbitrarily bad on asymmetric instances. Figure 2 shows
such an example.
Results and techniques. Throughout the paper we let ğœ”<2.373
be the matrix multiplication exponent. We refer to [ 5] for the cur-
rent best bound.
Our main result is the following theorem.
Theorem 1. Our algorithms BAC ,BCR andBCF from Section 5.3
approximate AMMD within a factor of1
6ğ‘˜. Their worst-case time
complexity is respectively O(ğ‘›2+ğœ”logğ‘˜),O(ğ‘›2+ğœ”logğ‘˜logğ‘›)and
O(ğ‘›ğœ”logğ‘˜logğ‘›).
2The iterated logarithm logâˆ—ğ‘›is defined as the number of times the logfunction can
be iteratively applied to ğ‘›until the result is less than or equal to 1.To the best of our knowledge, these are the first approxima-
tion algorithms for AMMD with a non-trivial guarantee. BAC is
the vanilla algorithm. BCR is a refined variant looking to improve
solution quality, while BCF is a faster variant.
We also show that our practical implementation run fast on real-
world and synthetic data and produces solutions with high diversity
scores (see Section 6). Figure 1 shows the output of BCF forğ‘˜=5on
a real-world dataset consisting of U.S. domestic flight data by large
air carriers in 2015 [ 51]. Between the five airports, the shortest
average flight time is from Adak Airport to Del Norte Country
Airport. Flying from Mercedita Airport to Guam Int. Airport on
average took 10% longer than flying in the reverse direction. This
is the largest ratio of bidirectional flying times among all routes
between the five airports.
The high-level idea behind our algorithm is to create auxiliary
graphs based on the distances in the AMMD instance. In these
auxiliary graphs, an independent set of size ğ‘˜will lead to good
solutions. In order to efficiently extract the independent sets, we
need to equip the auxiliary graphs with certain properties. We
show that by first clustering the points in the AMMD instance, the
graphs must contain a subgraph of a certain type (antichain, a large
chordless cycle, or a long shortest path with no backward edges).
We can search for all 3 subgraphs in polynomial time, and we can
extract an independent set from them in polynomial time.
Roadmap. Section 2 discusses related work on diversity maximiza-
tion and the MMD problem in particular. Section 3 provides a formal
problem statement and the necessary background literature on max-
imum antichains. Section 4 briefly discusses the performance of
the greedy algorithm on instances that are nearly symmetric. Sec-
tion 5 details our algorithms for AMMD. We present experimental
evaluation in Section 6 and conclude the paper with remarks in
Section 7.
2 RELATED WORK
MMD. The MMD problem was shown to be NP-complete by Wang
and Kuo [62]. Both Tamir [61] and Ravi et al . [57] showed that the
greedy next-furthest point algorithms yield a1
2-approximation for
MMD. Moumoulidou et al . [47] noted that these greedy algorithms
are essentially identical to the well-known Gonzalez-heuristic [ 31]
which gives a 2-approximation for the ğ‘˜-center problem. By a re-
duction from max. clique, Ravi et al . [57] showed that for any ğœ–>0
MMD is NP-hard to approximate within a factor of1
2+ğœ–, thereby
showing the optimality of the Gonzalez-heuristic in terms of worst-
case performance. Ravi et al . [57] also showed that MMD without
the triangle inequality constraints is NP-hard to approximate within
any multiplicative factor.
Akagi et al . [4] showed that MMD can be solved exactly by
solvingO(logğ‘›)ğ‘˜-clique problems, resulting in an exact algorithm
inO(ğ‘›ğœ”ğ‘˜/3logğ‘›)time by using the ğ‘˜-clique algorithm from [49].
Fairness and matroid constraints. Fairness variants of the MMD
problem have recently gained a lot of research attention [ 2,18,
48,63â€“65]. A typical fair MMD problem statement assumes the
universe is partitioned into |ğ¶|disjoint groups. Solutions are now
required to contain a certain amount of points from each group.
It is still undetermined whether constant-factor approximation
algorithms exist for arbitrary |ğ¶|[2,65]. The fairness constraints are
 
1441Max-Min Diversification with Asymmetric Distances KDD â€™24, August 25â€“29, 2024, Barcelona, Spain
a special case of diversity maximization under matroid constraints
[1, 12, 16, 17, 19].
Other objective functions. Chandra and HalldÃ³rsson [20] consid-
ered a range of diversity problems with different objective functions
besides MMD. Among them is the popular Max-Sum Diversifica-
tion (MSD) problem, which aims to maximize the sum of pairwise
distances instead of the minimum [ 1,3,7,8,11,32,34,37]. Cevallos
et al. [19] provided a local search (1âˆ’O( 1/ğ‘˜))-approximation for
MSD for distances of negative type (which includes several non-
metric distances), subject to general matroid constraints. Zhang and
Gionis [68] consider a variant of MSD adapted to a clustered data
setting. Besides MSD there are numerous other objective functions
for diversity maximization, depending on the topic area. We refer
to [69] for a summary of results in query result diversification.
Nonetheless, all of these works consider symmetric distances
between points. We also note that the asymmetric generalization
of the MSD problem is trivially approximated by considering the
symmetric distance ğ‘‘â€²formed byğ‘‘â€²(ğ‘¢,ğ‘£)=ğ‘‘(ğ‘¢,ğ‘£)+ğ‘‘(ğ‘£,ğ‘¢)and
applying any MSD approximation algorithm on ğ‘‘â€². This strategy
does not lead to a guarantee for AMMD, as the distance in one
direction might be very small compared to the other direction.
3 NOTATION AND PRELIMINARIES
Graphs. Given a directed graph (digraph) ğº=(ğ‘‰,ğ´), vertexğ‘£
is reachable from vertex ğ‘¢if there exists a path from ğ‘¢toğ‘£inğº.
Otherwise, ğ‘£is called unreachable from ğ‘¢. The transitive closure
TC(ğº)of a digraph ğºis a digraph with the same nodes as ğº, and
with edges(ğ‘¢,ğ‘£)âˆˆTC(ğº)ifğ‘£is reachable from ğ‘¢inğº. We say a
digraphğºis transitively closed if ğº=TC(ğº). A setğ‘‹âŠ†ğ‘‰is called
independent if there are no edges in the induced subgraph ğº[ğ‘‹].
An edge(ğ‘–,ğ‘—)âˆˆğ´is often abbreviated as ğ‘–ğ‘—.
AMMD problem. As mentioned in the introduction, we will as-
sume a pseudometric space (ğ‘ˆ,ğ‘‘)without symmetry constraints
on the distance function ğ‘‘, thus satisfying ğ‘‘(ğ‘¢,ğ‘¢)=0, nonneg-
ativityğ‘‘(ğ‘¢,ğ‘£)â‰¥0and the directed triangle inequality ğ‘‘(ğ‘¢,ğ‘£)â‰¤
ğ‘‘(ğ‘¢,ğ‘¤)+ğ‘‘(ğ‘¤,ğ‘£)for allğ‘¢,ğ‘£,ğ‘¤âˆˆğ‘ˆ. Instances of AMMD can be
viewed as complete digraphs or distance matrices representing the
distances between each pair of points. An example of an AMMD
instance space is the metric closure of a nonnegatively weighted
digraph, formed by defining distances as weighted shortest path
lengths between all the pairs of nodes in the graph.
We are interested in the following problem.
Problem 1 (AMMD). Given(ğ‘ˆ,ğ‘‘)and integerğ‘˜, find a setğ‘‚âŠ†ğ‘ˆ
with|ğ‘‚|=ğ‘˜such that div(ğ‘‚), as defined in Eq. 1, is maximized.
Throughout the paper, we let ğ‘…âˆ—=div(ğ‘‚)be the optimal value
for an AMMD instance space (ğ‘ˆ,ğ‘‘)with parameter ğ‘˜, whereğ‘‚is a
corresponding optimal set of ğ‘˜points. We assume ğ‘…âˆ—>0, as when
ğ‘…âˆ—=0any set ofğ‘˜points would be an optimal solution.
Withğ‘‘we define two new functions ğ‘‘minandğ‘‘maxasğ‘‘min(ğ‘¢,ğ‘£)=
min{ğ‘‘(ğ‘¢,ğ‘£),ğ‘‘(ğ‘£,ğ‘¢)}andğ‘‘max(ğ‘¢,ğ‘£)=max{ğ‘‘(ğ‘¢,ğ‘£),ğ‘‘(ğ‘£,ğ‘¢)}for all
ğ‘¢,ğ‘£âˆˆğ‘ˆ. Both functions are clearly symmetric, and ğ‘‘maxsatisfies
the triangle inequality while ğ‘‘mindoes not. Finally, using the ğ‘‘min
andğ‘‘maxfunctions we quantify the asymmetry of a given pseudo-
metric space. A pseudometric space (ğ‘ˆ,ğ‘‘)is calledğœ–-symmetric for
someğœ–â‰¥0if for allğ‘¢,ğ‘£âˆˆğ‘ˆ:(1+ğœ–)ğ‘‘min(ğ‘¢,ğ‘£)â‰¥ğ‘‘max(ğ‘¢,ğ‘£).Maximum antichains. We will see that there is a connection
between AMMD and the maximum independent set (MIS) problem.
Unfortunately, finding a MIS is not feasible. Instead, we will look for
a maximum antichain (MA). An antichain of a digraph ğº=(ğ‘‰,ğ¸)is
a set of vertices that are pairwise unreachable in ğº. In other words,
an antichain is an independent set in TC(ğº), and therefore also in
ğº. We have the following problem.
Problem 2 (MA). Given a digraph ğºand integer ğ‘˜, find an an-
tichain of size ğ‘˜or decide no such set exists.
Unlike finding a MIS, MA can be solved in polynomial time. A
common approach is to reduce the problem into a minimum flow
(with edge demands) problem [ 14,44,50,54]. Such reduction has
2|ğ‘‰|+2vertices and 3|ğ‘‰|+|ğ¸|edges. The minimum flow problem
is then solved by reducing it to a maximum flow problem, we refer
to [14] for the explicit construction.
This reduction has been combined with the recent breakthrough
paper on maximum flows by Chen et al . [21] to obtain the following
result.
Proposition 1 (Corollary 2.1 [ 13]).Given a digraph ğº=(ğ‘‰,ğ¸)
with|ğ‘‰|=ğ‘›and|ğ¸|=ğ‘š, a maximum antichain of ğºcan be com-
puted inO(ğ‘š1+ğ‘œ(1)logğ‘›)time with high probability.
There is a subtle complication in using the solver by Chen et al .
[21]. The algorithm solves the maximum flow problem with high
probability, that is, there is a small ğ‘œ(1)chance of failure.3The
issue is that in certain cases we need to solve MA several times,
sayğ‘ times, and allof them need to succeed. Here, the asymptotic
probability of failure depends on how quickly the failure rate goes
to 0 for a single MA as the instance size grows. However, if we
make the failure rate of a single instance ğ‘œ(ğ‘ âˆ’1), then the union
bound immediately shows that the probability of a single failure in
ğ‘ instances is then in ğ‘œ(1). The standard technique for guaranteeing
anğ‘œ(ğ‘ âˆ’1)failure bound is to run the solver O(logğ‘ )times and select
the best result. To summarize, we have the following proposition.
Proposition 2. Givenğ‘ digraphsğºğ‘–=(ğ‘‰ğ‘–,ğ¸ğ‘–)with|ğ‘‰ğ‘–|â‰¤ğ‘›and
|ğ¸ğ‘–|â‰¤ğ‘š, computing ğ‘ maximum antichains of each ğºğ‘–can be done
inO(ğ‘ ğ‘š1+ğ‘œ(1)logğ‘›logğ‘ )time with high probability.
We should point out that in practice we do not use the solver
by Chen et al . [21] due to its high complexity and high constants.
Instead, we settle for a more practical algorithm by Goldberg [30]
that solves maximum flow instances in O(ğ‘›2âˆšğ‘š)time.
We conclude this section by discussing alternative techniques
for solving maximum antichains. The first approach requires the
computation of the transitive closure of the digraph. The idea is to
reduce the MA problem to finding a maximum cardinality matching
in a bipartite graph encoding the reachability relation between ver-
tices [ 25,28,29]. The downside of this approach is that computing
the transitive closure is expensive.
Moreover, there is a large body of work on width-parametrized4
algorithms for the MA problems [ 13,14,23,28,36,43]. These al-
gorithms are practical in a small-width regime [ 14]. However, we
opted to use the maximum flow approach as this was sufficiently
fast for us, while also being the asymptotically fastest algorithm.
3By definition, this probability goes to 0 as the instance size grows.
4The size of the maximum antichain is often called the width of the graph.
 
1442KDD â€™24, August 25â€“29, 2024, Barcelona, Spain Iiro Kumpulainen, Florian Adriaens, & Nikolaj Tatti
Algorithm 1 Greedy with ğ‘‘min-distances.
Input: space(ğ‘ˆ,ğ‘‘)and integer parameter ğ‘˜â‰¥2.
1:ğ‘£â†arbitrary vertex from ğ‘ˆ.
2:ğ‘†â†{ğ‘£}.
3:while|ğ‘†|<ğ‘˜do
4:ğ‘£â†argmaxğ‘¢âˆˆğ‘ˆğ‘‘min(ğ‘¢,ğ‘†).
5:ğ‘†â†ğ‘†âˆª{ğ‘£}.
Output: the setğ‘†.
Algorithm 2 Naive Maximum Antichain method.
Input: space(ğ‘ˆ,ğ‘‘)and integer parameter ğ‘˜â‰¥2.
1:for allğ‘…âˆˆ{ğ‘‘(ğ‘–,ğ‘—)>0|ğ‘–,ğ‘—âˆˆğ‘ˆ,ğ‘–â‰ ğ‘—}do
2: Createğºğ‘…=(ğ‘ˆ,ğ´), withğ‘–ğ‘—âˆˆğ´â‡”ğ‘‘(ğ‘–,ğ‘—)<ğ‘…
ğ‘›âˆ’ğ‘˜+1.
3:ğ‘€â†Maximum antichain of ğºğ‘….
4: if|ğ‘€|â‰¥ğ‘˜,thenğ‘†ğ‘…â†anyğ‘˜points from ğ‘€.
Output: the setğ‘†ğ‘…with the largest div(ğ‘†ğ‘…)value.
4 NEARLY SYMMETRIC INSTANCES
Greedily selecting the next-furthest points until ğ‘˜points are se-
lected is a1
2-approximation for symmetric MMD [ 57,61], but can
perform arbitrarily badly on asymmetric instances as shown by the
example in Figure 2.
Theorem 2 generalizes this result to asymmetric instances. It
states that on asymmetric instances that are ğœ–-symmetric (see Sec-
tion 3), the greedy approach applied on the ğ‘‘mindistances yields a
1
2+ğœ–-approximation, and this ratio is tight. The proof of Theorem 2
can be found in the Appendix.
Theorem 2. For anyğœ–â‰¥0, Algorithm 1 is a1
2+ğœ–-approximation on
ğœ–-symmetric instances and can be implemented to run in O(ğ‘˜ğ‘›)time.
Additionally, there exist ğœ–-symmetric instances for which Algorithm 1
cannot achieve a performance ratio better than1
2+ğœ–.
5 BALL-AND-ANTICHAIN METHOD
Section 5.1 details a straightforward approximation algorithm for
AMMD, exploiting the polynomial time complexity of the MA prob-
lem in digraphs, as discussed in the previous section. This algorithm
has an approximation guarantee of1
ğ‘›âˆ’ğ‘˜+1, which is not very useful
in a typical regime of small ğ‘˜, but it gives insight into the use of
the MA problem for approximating AMMD.
In Section 5.2 we modify the algorithm from Section 5.1 by first
clustering the points based on the ğ‘‘maxdistances between them.
The subspace induced by the cluster centers has some very use-
ful properties, which leads to an approximation algorithm with a
multiplicative guarantee of1
6ğ‘˜for AMMD.
Finally, in Section 5.3, we discuss improvements to look for
better solutions and speed up the algorithm while maintaining the
approximation guarantee.
5.1 Naive approach based on antichains
We begin by describing the naive approach for approximating
AMMD. Assume for the moment that we know ğ‘…=ğ‘…âˆ—, the op-
timal value for an AMMD instance. Consider a digraph ğº=(ğ‘ˆ,ğ´),
whereğ‘–ğ‘—âˆˆğ´if and only if ğ‘‘(ğ‘–,ğ‘—)<ğ‘…. Then an independent set,sayğ‘‚, inğºof sizeğ‘˜will have div(ğ‘‚)=ğ‘…âˆ—. Unfortunately, finding
a maximum independent set in a graph is an NP-hard problem with
a weak approximation guarantee [33].
Therefore, we lower the cutoff by setting it toğ‘…
ğ‘›âˆ’ğ‘˜+1. This makes
the underlying graph so sparse that we can guarantee that the
graph contains an antichain, say ğ‘†, of sizeğ‘˜. Since an antichain is
also an independent set, we know that div(ğ‘†)â‰¥ğ‘…
ğ‘›âˆ’ğ‘˜+1. We can
find the antichain in polynomial time. Finally, we do not know
ğ‘…âˆ—but we know that it is one of the distances. Therefore, we test
every distance; there are at most ğ‘›(ğ‘›âˆ’1)of such distances. The
pseudo-code for the algorithm is given in Algorithm 2.
Theorem 3. Algorithm 2 is an1
ğ‘›âˆ’ğ‘˜+1-approximation for AMMD
inO(ğ‘›4+ğ‘œ(1)logğ‘›)time with high probability.
The proof is given in Appendix.
We finalize this section by observing that we could binary search
for the largest ğ‘…value for which ğºğ‘…(defined in line 2 in Algorithm 2)
still has an antichain of size ğ‘˜. First, sort the unique distances in
timeO(ğ‘›2logğ‘›), after which we need at most O(logğ‘›)calls to
find thisğ‘…. Since for this ğ‘…we haveğ‘…â‰¥ğ‘…âˆ—, we retain the same
approximation guarantee. The binary search performs O(logğ‘›)MA
computations, and all of them need to succeed. Proposition 2 implies
that the algorithm solves the problem in O(ğ‘›2+ğ‘œ(1)log2ğ‘›log logğ‘›)
time with high probability.
5.2 Refined approach: clustering and antichains
The problem with Algorithm 2 is that it is using a very conservative
cutoff ofğ‘…
ğ‘›âˆ’ğ‘˜+1, leading to a weak guarantee. We show that we can
relax this cutoff toğ‘…
6ğ‘˜, by first clustering the space (ğ‘ˆ,ğ‘‘)according
to theğ‘‘maxdistances. The discovered cluster centers will have the
property that two centers must have a large ğ‘‘maxdistance between
them. A consequence of this property is that the resulting graph
contains a large antichain, a large chordless cycle, or a large shortest
path with no backward edges. It turns out that we can search for
all 3 subgraphs in polynomial time, and using those we can extract
an independent set in polynomial time.
Clustering step. Next, we describe the clustering step, as given in
Algorithm 3. Here the algorithm greedily covers ğ‘ˆwith a family of
pairwise disjoint sets {ğ´ğ‘¡}. Eachğ´ğ‘¡is constructed by selecting an
unmarked point as a center ğ‘ğ‘¡, and adding all unmarked points ğ‘£
withğ‘‘max(ğ‘ğ‘¡,ğ‘£)<ğ‘…. Since all the vertices in ğ´ğ‘¡are marked at the
end of stepğ‘¡(line 5), they cannot be selected by any ğ´ğ‘¡â€²forğ‘¡â€²>ğ‘¡.
It follows that for every ğ‘¡â‰ ğ‘¡â€²we haveğ´ğ‘¡âˆ©ğ´ğ‘¡â€²=âˆ….
Algorithm 3 terminates in at most ğ‘›steps, since every set ğ´ğ‘¡
contains at least one point, namely the center point ğ‘ğ‘¡. Algorithm 3
runs inO(ğ‘›2)time.
Eachğ´ğ‘¡is constructed by selecting vertices that have a small
ğ‘‘maxdistance to their center ğ‘ğ‘¡. Line 4 in Algorithm 3 ensures that
theğ‘‘maxdistances between two distinct centers are at least ğ‘….
To analyze this further, let us define ğ‘…â€²as the smallest distance
that is at least one third of the optimum ğ‘…âˆ—,
ğ‘…â€²=min{ğ‘‘(ğ‘¢,ğ‘£)|ğ‘‘(ğ‘¢,ğ‘£)â‰¥ğ‘…âˆ—/3, ğ‘¢,ğ‘£âˆˆğ‘ˆ, ğ‘¢â‰ ğ‘£}. (2)
If we then perform the clustering for any ğ‘…â‰¤ğ‘…â€², there will be
ğ‘˜centers that also have a pairwise ğ‘‘mindistance of at least ğ‘…âˆ—/3
between them. This is captured by Proposition 3 and Corollary 1.
 
1443Max-Min Diversification with Asymmetric Distances KDD â€™24, August 25â€“29, 2024, Barcelona, Spain
Algorithm 3 Clust(ğ‘ˆ,ğ‘‘,ğ‘…), clustersğ‘ˆaccording to ğ‘‘max.
Input: space(ğ‘ˆ,ğ‘‘)and parameter ğ‘…>0.
1:Label allğ‘¢âˆˆğ‘ˆas unmarked, let ğ‘ˆâ€²â†âˆ… andğ‘¡â†1.
2:while there exists an unmarked point do
3:ğ‘ğ‘¡â†any unmarked point.
4:ğ´ğ‘¡â†{unmarkedğ‘£âˆˆğ‘ˆ|ğ‘‘max(ğ‘ğ‘¡,ğ‘£)<ğ‘…}.
5: Mark allğ‘£âˆˆğ´ğ‘¡.
6:ğ‘ˆâ€²â†ğ‘ˆâ€²âˆª{ğ‘ğ‘¡}andğ‘¡â†ğ‘¡+1.
Output:ğ‘ˆâ€².
Proposition 3. Letğ‘‚be an optimal solution to AMMD with
optimumğ‘…âˆ—andğ‘…â€²as defined in Equation 2. If ğ‘…â‰¤ğ‘…â€², then the
following two statements regarding Algorithm 3 are true.
â€¢For allğ‘¡it holds that|ğ´ğ‘¡âˆ©ğ‘‚|â‰¤1.
â€¢For anyğ‘¡â‰ ğ‘¡â€²for which|ğ´ğ‘¡âˆ©ğ‘‚|=1and|ğ´ğ‘¡â€²âˆ©ğ‘‚|=1, it
holds thatğ‘‘min(ğ‘ğ‘¡,ğ‘ğ‘¡â€²)â‰¥ğ‘…â€²â‰¥ğ‘…âˆ—/3.
Proof. For the first statement, suppose that ğ´ğ‘¡contains two
distinctğ‘¥,ğ‘¦âˆˆğ‘‚,ğ‘¥â‰ ğ‘¦. Then it holds that ğ‘‘(ğ‘¥,ğ‘¦) â‰¤ğ‘‘(ğ‘¥,ğ‘ğ‘¡)+
ğ‘‘(ğ‘ğ‘¡,ğ‘¦). Sinceğ‘‘(ğ‘¥,ğ‘ğ‘¡)andğ‘‘(ğ‘ğ‘¡,ğ‘¦)are strictly less than ğ‘…â‰¤ğ‘…â€²,
they must be less than ğ‘…âˆ—/3becauseğ‘…â€²is defined as the smallest
distance greater or equal to ğ‘…âˆ—/3, so any distance strictly smaller
thanğ‘…â€²must be less than ğ‘…âˆ—/3. Thus,ğ‘‘(ğ‘¥,ğ‘¦)<2ğ‘…âˆ—/3<ğ‘…âˆ—, a
contradiction since ğ‘¥,ğ‘¦âˆˆğ‘‚,ğ‘¥â‰ ğ‘¦implies that ğ‘‘(ğ‘¥,ğ‘¦)â‰¥ğ‘…âˆ—.
For the second statement, assume that ğ´ğ‘¡containsğ‘¥âˆˆğ‘‚andğ´ğ‘¡â€²
containsğ‘¦âˆˆğ‘‚. Sinceğ´ğ‘¡andğ´ğ‘¡â€²are disjoint, we have ğ‘¥â‰ ğ‘¦. Note
thatğ‘‘(ğ‘¥,ğ‘¦)â‰¤ğ‘‘(ğ‘¥,ğ‘ğ‘¡)+ğ‘‘(ğ‘ğ‘¡,ğ‘ğ‘¡â€²)+ğ‘‘(ğ‘ğ‘¡â€²,ğ‘¦), whereğ‘‘(ğ‘¥,ğ‘ğ‘¡)<ğ‘…â‰¤ğ‘…â€²
andğ‘‘(ğ‘ğ‘¡â€²,ğ‘¦)<ğ‘…â‰¤ğ‘…â€². This means ğ‘‘(ğ‘¥,ğ‘ğ‘¡)andğ‘‘(ğ‘ğ‘¡â€²,ğ‘¦)must be
less thanğ‘…âˆ—/3by the definition of ğ‘…â€². So ifğ‘‘(ğ‘ğ‘¡,ğ‘ğ‘¡â€²)<ğ‘…â€², we
would have ğ‘‘(ğ‘¥,ğ‘¦)<3ğ‘…âˆ—/3=ğ‘…âˆ—, a contradiction. Similarly, we
cannot have ğ‘‘(ğ‘ğ‘¡â€²,ğ‘ğ‘¡)<ğ‘…â€²either, which means ğ‘‘min(ğ‘ğ‘¡,ğ‘ğ‘¡â€²) â‰¥
ğ‘…â€²â‰¥ğ‘…âˆ—/3. â–¡
Corollary 1. Letğ‘ˆâ€²=Clust(ğ‘ˆ,ğ‘‘,ğ‘…). For everyğ‘¢,ğ‘£âˆˆğ‘ˆâ€²,ğ‘¢â‰ ğ‘£
we haveğ‘‘max(ğ‘¢,ğ‘£)â‰¥ğ‘…. Additionally, if ğ‘…â‰¤ğ‘…â€², thenğ‘ˆâ€²contains a
setğ‘†, for which|ğ‘†|=ğ‘˜and div(ğ‘†)â‰¥ğ‘…â€²â‰¥ğ‘…âˆ—/3.
Corollary 1 states that as long as ğ‘…â‰¤ğ‘…â€², from any instance
space(ğ‘ˆ,ğ‘‘)we can efficiently find a subset ğ‘ˆâ€²âŠ†ğ‘ˆsuch thatğ‘ˆâ€²
still contains ğ‘˜points with a pairwise ğ‘‘mindistance of at least ğ‘…âˆ—/3
between them. This enables us to restrict ourselves to ğ‘ˆâ€², at the
expense of a decrease in the optimal value by a factor of three.
TheBAC algorithm. We are ready to describe our algorithm which
we call BAC (shortened for ball-and-antichain). The pseudocode is
given in Algorithms 4â€“5. Similar to the naive approach we iterate
over all distances. For each candidate distance ğ‘…, we cluster the
space to get the centers ğ‘ˆâ€². We then construct a graph ğºwith edges
corresponding to distances shorter thanğ‘…
2ğ‘˜. We can guarantee that
there is (ğ‘–) a large chordless cycle, ( ğ‘–ğ‘–) a long shortest path with
no backward edges, or ( ğ‘–ğ‘–ğ‘–) a large antichain. In the first two cases,
we can obtain an independent set by selecting ğ‘˜vertices with odd
indices. In the last case, it is enough to select ğ‘˜vertices from the
found antichain.
Next, we will prove the approximation guarantee. First, we need
Lemma 1, which states that there cannot exist small cycles in ğº.Algorithm 4 BAC(ğ‘ˆ,ğ‘‘,ğ‘˜), an1
6ğ‘˜-approx. algorithm for AMMD.
Input: space(ğ‘ˆ,ğ‘‘)and integer parameter ğ‘˜â‰¥2.
1:for allğ‘…âˆˆ{ğ‘‘(ğ‘–,ğ‘—)>0|ğ‘–,ğ‘—âˆˆğ‘ˆ,ğ‘–â‰ ğ‘—}do
2:ğ‘ˆâ€²â†Clust(ğ‘ˆ,ğ‘‘,ğ‘…).
3: Extract(ğ‘ˆâ€²,ğ‘‘,ğ‘…/(2ğ‘˜),ğ‘˜).
Output: the set returned by Extract with the largest divvalue.
Algorithm 5 Extract(ğ‘ˆ,ğ‘‘,ğœ,ğ‘˜), subroutine for extracting a can-
didate set.
Input: space(ğ‘ˆ,ğ‘‘), thresholdğœ, and integer parameter ğ‘˜â‰¥2.
1:Createğº=(ğ‘ˆ,ğ´), withğ‘–ğ‘—âˆˆğ´â‡”ğ‘‘(ğ‘–,ğ‘—)<ğœ.
2:ifğºcontains a cycle then
3:ğ¶â†chordless cycle in ğº.
4:ğºğ‘â†the condensation of ğº.
5:ğ‘€â†maximum antichain of ğºğ‘.
6:ğ¿â†shortest path of length 2ğ‘˜âˆ’1inğºğ‘or longest found.
7:ifğ¶exists and|ğ¶|â‰¥2|ğ‘€|âˆ’1and|ğ¶|â‰¥|ğ¿|then
8:ğ¼â†points with odd indices from ğ¶.
9:else if 2|ğ‘€|âˆ’1â‰¥|ğ¿|then
10:ğ¼â†points inğºcorresponding to points in ğ‘€.
11:else
12:ğ¼â†points inğºcorr. to points with odd indices in ğ¿.
Output: greedily selected ğ‘˜points from the set ğ¼, if found.
Lemma 1. For anyğ‘…>0, any cycleğ¶in the digraph ğºconstructed
inExtract
ğ‘ˆâ€²,ğ‘‘,ğ‘…
2ğ‘˜,ğ‘˜
(see Alg. 5) has at least 2ğ‘˜+2distinct vertices.
Proof. Supposeğºcontains a cycle ğ¶=(ğ‘£1,...,ğ‘£â„“,ğ‘£1)of length
â„“. Sinceğ¶is a cycle inğº, it holds that ğ‘‘(ğ‘£â„“,ğ‘£1)<ğ‘…
2ğ‘˜, by definition of
ğº. On the other hand, as ğ‘ˆâ€²is the output of Clust , Corollary 1 states
thatğ‘‘max(ğ‘£1,ğ‘£â„“) â‰¥ğ‘…. This implies that ğ‘‘(ğ‘£1,ğ‘£â„“) â‰¥ğ‘…. Now the
triangle inequality for ğ‘‘(ğ‘£1,ğ‘£â„“)along the edges of cycle ğ¶implies
ğ‘…â‰¤ğ‘‘(ğ‘£1,ğ‘£â„“)â‰¤â„“âˆ’1âˆ‘ï¸
ğ‘–=1ğ‘‘(ğ‘£ğ‘–,ğ‘£ğ‘–+1)<(â„“âˆ’1)ğ‘…
2ğ‘˜.
Solving forâ„“leads toâ„“>2ğ‘˜+1, which proves the claim. â–¡
Theorem 4. BAC(ğ‘ˆ,ğ‘‘,ğ‘˜)is an1
6ğ‘˜-approximation to AMMD.
Proof. Line 1 in Algorithm 4 iterates over all unique distances,
and one of them is equal to ğ‘…â€²as defined in Eq. 2. We will show that
forğ‘…â‰¤ğ‘…â€², the digraph ğº, constructed in line 1 in Algorithm 5, has
an antichain ğ‘€of size|ğ‘€|â‰¥ğ‘˜, or there exists either a shortest path
with no backward edges or a chordless cycle from which we can
selectğ‘˜independent vertices. An independent set ğ¼of size|ğ¼|â‰¥ğ‘˜in
graphğºthen yields a solution with a diversity score of div(ğ¼)â‰¥ğ‘…
2ğ‘˜,
which forğ‘…=ğ‘…â€²isdiv(ğ¼)â‰¥ğ‘…â€²
2ğ‘˜â‰¥ğ‘…âˆ—
6ğ‘˜proving the theorem.
Note that since the nodes in an antichain have no paths connect-
ing them, it suffices to look for an antichain in the condensation
ğºğ‘, whose vertices are the strongly connected components of ğº.
If there exists an antichain ğ‘€of size|ğ‘€|â‰¥ğ‘˜, we are done as the
nodes in an antichain are independent.
 
1444KDD â€™24, August 25â€“29, 2024, Barcelona, Spain Iiro Kumpulainen, Florian Adriaens, & Nikolaj Tatti
Consider the case where the maximum antichain ğ‘€has size
|ğ‘€|<ğ‘˜and assume ğºis a DAG. Note that when ğºis a DAG the
condensation ğºğ‘is equivalent to ğº.
Corollary 1 states that if ğ‘…â‰¤ğ‘…â€²thenğ‘ˆâ€²contains a subset ğ‘†âŠ†ğ‘ˆâ€²
for which|ğ‘†|=ğ‘˜and div(ğ‘†)â‰¥ğ‘…â€². Then there must be a path in
ğºbetween some pair of distinct points in ğ‘†. Otherwise, ğ‘†is an
antichain of size ğ‘˜.
Let this pair of nodes be ğ‘¥,ğ‘¦âˆˆğ‘†,ğ‘¥â‰ ğ‘¦, with a path(ğ‘¥=
ğ‘£1,...,ğ‘£â„“=ğ‘¦)fromğ‘¥toğ‘¦inğº. Then the triangle inequality implies
ğ‘…â€²â‰¤div(ğ‘†)â‰¤ğ‘‘(ğ‘¥,ğ‘¦)â‰¤â„“âˆ’1âˆ‘ï¸
ğ‘–=1ğ‘‘(ğ‘£ğ‘–,ğ‘£ğ‘–+1)<(â„“âˆ’1)ğ‘…
2ğ‘˜â‰¤(â„“âˆ’1)ğ‘…â€²
2ğ‘˜.
Therefore,â„“must be at least 2ğ‘˜+2meaning any path between ğ‘¥
andğ‘¦must have at least 2ğ‘˜+2vertices. Hence, there is a shortest
path of length 2ğ‘˜+2while a shortest path ğ¿of length 2ğ‘˜âˆ’1is
sufficient. There cannot be any shortcut edges in ğ¿, sinceğ¿is a
shortest path. Nor can there be any backward edges in ğ¿, sinceğº
is a DAG. Consequently, elements in ğ¿with odd indices form an
independent set ğ¼of sizeğ‘˜.
Finally, assume that ğºis not a DAG. Then there is a chordless
cycleğ¶. Lemma 1 guarantees that ğ¶has at least 2ğ‘˜+2elements.
Then, elements in ğ¶with odd indices form an independent set ğ¼of
size|ğ¼|â‰¥ğ‘˜+1>ğ‘˜. â–¡
Time complexity of Algorithm 4. The iteration in line 1 is over
at mostO(ğ‘›2)possibleğ‘…values. Both detecting a cycle in ğºand
extracting the chordless cycle from it (line 3 of Algorithm 5) take
O(ğ‘›2)time. Computing the maximum antichain can be done in
O(ğ‘›2+ğ‘œ(1)logğ‘›)time (Proposition 1).
To compute the shortest path we can use the following approach:
Letğ·=ğ´+ğ¼, whereğ´is the adjacency matrix of ğº, andğ¼is the
identity matrix. Then ğ·â„“
ğ‘–ğ‘—>0if and only if there is a path of at
most length â„“fromğ‘–toğ‘—. Consequently, there is a shortest path
fromğ‘–toğ‘—of length 2ğ‘˜âˆ’1if and only if ğ·2ğ‘˜âˆ’1
ğ‘–ğ‘—>0andğ·2ğ‘˜âˆ’2
ğ‘–ğ‘—=0.
We can compute the necessary matrices in O(ğ‘›ğœ”logğ‘˜)time, where
ğœ”<2.373is the matrix multiplication exponent [ 5]. Onceğ‘–is found,
we use Dijkstraâ€™s algorithm to recover the path in O(ğ‘›2)time.
Overall we have a worst-case time complexity of O(ğ‘›2+ğœ”logğ‘˜).
Note that in practice, we do not use the matrix multiplication
method. Instead, we compute a shortest path tree from every node.
This leads to a slower theoretical time but the algorithms are still
practical as demonstrated in the experiments.
5.3 Practical improvements
We discuss several modifications, which speed up BAC , and/or
might improve the solution quality in practice.
Algorithm BCR .The first modification to BAC , given in Algo-
rithm 6, is aimed at improving solution quality, at the expense of a
slightly larger running time. We will call this modified algorithm
BCR. Note that the1
6ğ‘˜-approximation guarantee comes from the
fact that we add an edge ğ‘–ğ‘—toğºwheneverğ‘‘(ğ‘–,ğ‘—)<ğ‘…
2ğ‘˜. If we can
increase this cutoff to, say ğ‘…Ã—ğ›¼,andstill find a feasible set, then
the found set ğ‘†is guaranteed to have div(ğ‘†)â‰¥ğ‘…ğ›¼, that is we will
obtain anğ›¼-approximation.
For everyğ‘…in the iteration of BCR that gives a feasible solution
for the thresholdğ‘…
2ğ‘˜, we will try to improve the solution value byAlgorithm 6 BCR(ğ‘ˆ,ğ‘‘,ğ‘˜), an1
6ğ‘˜-approx. algorithm for AMMD.
Input: space(ğ‘ˆ,ğ‘‘)and integer parameter ğ‘˜â‰¥2.
1:ğ‘…1<...<ğ‘…ğ‘šâ†all unique positive distances sorted.
2:foreveryğ‘–=1,...,ğ‘š do
3:ğ‘ˆâ€²â†Clust(ğ‘ˆ,ğ‘‘,ğ‘…ğ‘–).
4: ifExtract(ğ‘ˆâ€²,ğ‘‘,ğ‘…ğ‘–/(2ğ‘˜),ğ‘˜)exists then
5:ğ‘â†min{ğ‘ |ğ‘…ğ‘–/(2ğ‘˜)<ğ‘…ğ‘ },ğ‘â†ğ‘–.
6: whileğ‘â‰¤ğ‘do
7: ğ‘¡â†j
ğ‘+ğ‘
2k
.
8: ifExtract(ğ‘ˆâ€²,ğ‘‘,ğ‘…ğ‘¡,ğ‘˜)exists thenğ‘â†ğ‘¡+1
9: elseğ‘â†ğ‘¡âˆ’1
Output: the set returned by Extract with the largest divvalue.
Algorithm 7 BCF(ğ‘ˆ,ğ‘‘,ğ‘˜), an1
6ğ‘˜-approx. algorithm for AMMD.
Input: space(ğ‘ˆ,ğ‘‘)and integer parameter ğ‘˜â‰¥2.
1:ğ‘…1<...<ğ‘…ğ‘šâ†all unique positive distances sorted.
2:ğ‘â†1,ğ‘â†ğ‘š
3:whileğ‘â‰¤ğ‘do
4:ğ‘¡â†j
ğ‘+ğ‘
2k
.
5:ğ‘ˆâ€²â†Clust(ğ‘ˆ,ğ‘‘,ğ‘…ğ‘¡).
6: ifExtract(ğ‘ˆâ€²,ğ‘‘,ğ‘…ğ‘¡/(2ğ‘˜),ğ‘˜)exists thenğ‘â†ğ‘¡+1
7: elseğ‘â†ğ‘¡âˆ’1
8:ğ‘–â†ğ‘âˆ’1.
9:ğ‘ˆâ€²â†Clust(ğ‘ˆ,ğ‘‘,ğ‘…ğ‘–).
10:ğ‘â†min{ğ‘ |ğ‘…ğ‘–/(2ğ‘˜)<ğ‘…ğ‘ },ğ‘â†ğ‘–.
11:whileğ‘â‰¤ğ‘do
12:ğ‘¡â†j
ğ‘+ğ‘
2k
.
13: ifExtract(ğ‘ˆâ€²,ğ‘‘,ğ‘…ğ‘¡,ğ‘˜)exists thenğ‘â†ğ‘¡+1
14: elseğ‘â†ğ‘¡âˆ’1
Output: the set returned by Extract with the largest divvalue.
searching for a cutoff value larger thanğ‘…
2ğ‘˜when constructing the
graphğº(line 1 of Algorithm 5). If BCR is unable to find a feasible
solution for a certain ğ‘…, then we continue iterating to the next ğ‘….
To this end, if BCR has found a feasible set for some ğ‘…, we use the
binary search to search for larger cutoffs in [ğ‘…
2ğ‘˜,ğ‘…]. Note that only
when we use the cutoffğ‘…
6ğ‘˜are we theoretically guaranteed that we
can extract ğ‘˜independent points. Nonetheless, BCR will attempt
to do this for larger cutoffs as well. The binary search requires
O(logğ‘›)tests for a single ğ‘…since we can assume that the cutoff is
one of the distances. Hence, the computational complexity of BCR
is inO(ğ‘›2+ğœ”logğ‘˜logğ‘›).
Algorithm BCF.This algorithm speeds up BAC while at the same
time attempting to improve solution quality. Similarly to Section 5.1,
we can replace the loop of Algorithm 4 (line 1) with a binary search
in an attempt to find a maximal ğ‘…for which we find a feasible
solution. This reduces the iterations from O(ğ‘›2)toO(logğ‘›).
Note that unlike in Section 5.1, this binary search might not find
the globally largest ğ‘…value for which we can extract a feasible
solution. This is because there may be distance values ğ‘…ğ‘–>ğ‘…ğ‘—>ğ‘…â€²
such thatğ‘…ğ‘–yields a feasible solution while ğ‘…ğ‘—does not.
 
1445Max-Min Diversification with Asymmetric Distances KDD â€™24, August 25â€“29, 2024, Barcelona, Spain
Table 1: Characteristics of the datasets: size, smallest and
largest distances, and number of unique distances. The total
number of pairwise distances is |ğ‘ˆ|(|ğ‘ˆ|âˆ’1).
Data type |ğ‘ˆ|minğ‘‘ maxğ‘‘ dists
ft70[58] infra 70 331 2 588 1 441
kro124 [58] infra 100 81 4 309 3 297
celegans [40] bio 297 1 24 24
rbg323 [58] infra 323 0 21 23
wiki-vote [41] social 1 300 1 9 9
US airports [40, 52] flight 1 402 1 169 685 27 237
moreno [40, 46] social 2 155 1 52 52
openflights [40, 52] flight 2 868 1 17 17
cora [40, 59] citation 3 991 1 45 45
bitcoin [38, 39] trust 4 709 0 134 130
gnutella [41] P2P 5 153 1 21 21
However, we can still sort the unique distances and use binary
search to find ğ‘…ğ‘—with a feasible solution, say ğ‘†ğ‘—, such that the next
valueğ‘…ğ‘—+1>ğ‘…ğ‘—does not yield a feasible solution.
Moreover, any ğ‘…â‰¤ğ‘…â€²yields a feasible solution. This implies
ğ‘…ğ‘—â‰¥ğ‘…â€²and we get the same guarantee as BAC, because
div ğ‘†ğ‘—â‰¥ğ‘…ğ‘—
2ğ‘˜â‰¥ğ‘…â€²
2ğ‘˜â‰¥ğ‘…âˆ—
6ğ‘˜.
Similarly to BCR,BCF then attempts to improve the cutoff value
for constructing ğºby again binary searching for an improved cutoff
in the interval[ğ‘…ğ‘—
2ğ‘˜,ğ‘…ğ‘—]for which Extract still finds a feasible solu-
tion. In the worst case, this adds another O(logğ‘›)iterations, which
does not change the asymptotic running time of the algorithm.
The running time for solving O(logğ‘›)MA instances, as given by
Proposition 2, is dominated by the time needed to check for shortest
paths of length 2ğ‘˜âˆ’1. In summary, the running time of BCF is
O(ğ‘›2logğ‘›+2ğ‘›ğœ”logğ‘›logğ‘˜)=O(ğ‘›ğœ”logğ‘›logğ‘˜).
This is a considerable improvement over the running time of
BAC , making BCF orders of magnitude faster while retaining the
same theoretical guarantees.
Further improvements. As the graph ğºconstructed in Algo-
rithm 5 may be split into multiple disconnected components, we
improve the search for independent sets by looking for the cycles,
antichains, and long shortest paths in each weakly connected com-
ponent ofğºseparately. We then take the union of the independent
sets for each component, aiming to have ğ‘˜points in total.
In addition, rather than choosing the centers arbitrarily in Al-
gorithm 3, we start by picking one of the vertices with the largest
ğ‘‘mindistance. This heuristic is similar to the approach for solv-
ing MMD [ 57]. For the subsequent iterations, we choose the point
furthest from the current set of chosen centers, as in Algorithm 1.
Finally, in practice many of the unique distances ğ‘…1,...,ğ‘…ğ‘šmay
result in the same clustering ğ‘ˆâ€²in Algorithms 4 and 6. We avoid
these duplicate computations by grouping the ğ‘…values that yield
the same clustering.Table 2: Performance comparison between our approxima-
tion algorithms ( BAC ,BCR , andBCF), the greedy algorithm
(Greedy), and the random baseline (Rand.), relative to the op-
timum solution value (Opt.) for fixed parameter value ğ‘˜=10.
Data BAC BCR BCF Greedy Rand. Opt.
ft70 95% 98% 95% 95% 63% 786
kro124p 88% 89% 88% 88% 45% 1 136
celegans 100% 100% 100% 100% 29% 7
rbg323 80% 100% 80% 80% 0% 15
wiki-vote 80% 80% 80% 80% 40% 5
US airports 100% 100% 100% 100% 0% 64036
moreno 100% 100% 100% 100% 27% 22
openflights 100% 100% 100% 100% 33% 9
cora 100% 100% 100% 100% 19% 27
bitcoin 100% 100% 100% 100% 29% 77
gnutella 85% 92% 85% 85% 38% 13
Average 93.4% 96.3% 93.4% 93.4% 29.3% 100%
6 EXPERIMENTS
Nextwedescrib eourexperiments. Allexperiments wereperforme d
onanIntel Corei5-8265U processor at1.6GHz with 16GBRAM.
Our metho dswereimplemente dinPython 3.8andarepublicly
available .5
6.1 Setup
Data. Fordata, weusedweighte ddigraphs thatweconv ertedinto
anasymmetric distance space bycomputing themetric closur e,
that is,wedefine thedistanceğ‘‘(ğ‘¢,ğ‘£)tobetheweighte dshortest
path length betweenğ‘¢andğ‘£.Weonly usedthelargest strongly
conne ctedcomp onent. Table 1showsthedata andseveralstatistics
usedforevaluation. The column minğ‘‘(resp.maxğ‘‘)denotes the
smallest (resp.largest) distance present. Thelastcolumn showsthe
numb erofunique distances, which heavily influences therunning
time ofouralgorithms fromSection 5.The datasets ft70, kro124
andrgb323 areasymmetric traveling salesman instances fromthe
public librar yTSPLIB [58].The bitcoin dataset originally hasedge
weights between[âˆ’10,10],which wehaverescale dtononnegativ e
weights between[0,20].
Baselines. Besides ourproposedalgorithms BAC,BCR,andBCF,
wehavealsoimplemente dandteste dthefollowing baselines:
Greedy.Iterativ elypick vertices maximizing theğ‘‘mindistance to-
wardsthealready chosen setofvertices asinAlgorithm 1.To
impr ovetheperformance ,westart with avertexofanedgewith
themaximumğ‘‘mindistance .
Random. Selectasubsetğ‘†âŠ†ğ‘ˆofsize|ğ‘†|=ğ‘˜uniformly atrandom.
Repeat10times andreturn thesetwith thehighest scorediv(ğ‘†).
Optimal. Computes anoptimal solution byreducing ittosolving
multipleğ‘˜-clique problems. First, sortalltheunique weights inthe
AMMD instance .The optimumğ‘…âˆ—isequal tooneoftheunique
5https://version.helsinki.fi/dacs/ammd
 
1446KDD â€™24, August 25â€“29, 2024, Barcelona, Spain Iiro Kumpulainen, Florian Adriaens, & Nikolaj Tatti
4 8 16 32 644006008001
000OPT
BCF
RNDBCR
BA
C
GRD
r
equired size, ğ‘˜div(ğ‘†)
(
a)ft70dataset4 8 16 32 645001 0001 5002 000
OPTBA
C,BCF, GRD
RNDBCR
required size, ğ‘˜div(ğ‘†)
(
b)kro124 dataset4 8 16 32 64 128 25605101520
GRD
BA
COPT
,BCRBCF
RND
required size, ğ‘˜div(ğ‘†)
(
c)rbg323 dataset
Figure 3: The y-axis shows the diversity score of the solutions provided by the algorithms. The x-axis shows the parameter ğ‘˜,
which is the required solution size. All solutions converge to the same set as ğ‘˜approaches ğ‘›.
weights. Let ğ‘…be one of the unique weights. Create an undirected
graphğºğ‘…=(ğ‘ˆ,ğ¸)with the same nodes as our AMMD instance,
andğ‘–ğ‘—âˆˆğ¸if and only if both ğ‘‘(ğ‘–,ğ‘—) â‰¥ğ‘…andğ‘‘(ğ‘—,ğ‘–) â‰¥ğ‘…. For
everyğ‘…â‰¤ğ‘…âˆ—the graphğºğ‘…will have a clique of size ğ‘˜, and for
everyğ‘…>ğ‘…âˆ—the graphğºğ‘…does not contain a clique of size ğ‘˜, by
the optimality of ğ‘…âˆ—. A binary search on the sorted list of unique
weights finds the optimum ğ‘…âˆ—, by solving at most O(logğ‘›)ğ‘˜-clique
problems. Note that the ğ‘˜-clique problem can be solved optimally
inO(ğ‘›ğœ”ğ‘˜/3)time [ 49]. A similar idea has been used to optimally
solve symmetric MMD and related fairness variants [4, 65].
6.2 The diversity scores of the returned sets
Smallğ‘˜regime. As mentioned in the introduction, in a typical
AMMD setting one is interested in finding solutions of small size.
We compare the performance of our algorithms BAC ,BCR andBCF
in Table 2 with the aforementioned baselines Greedy, Random, and
Optimal on all the datasets from Table 1, for the choice of ğ‘˜=10.
Observe that BCR achieves the highest score in every experi-
ment and finds the optimal value on seven datasets. In addition,
BCF achieves the same solution quality as BAC and Greedy while
being significantly faster than BAC and having the approximation
guarantee discussed in Section 5.3. We also note that Random often
performs very poorly, even with an increased number of repetitions.
BCF, Greedy, and Random were very fast and took less than three
seconds to run, whereas BCR took several minutes on some datasets.
Onwiki-vote andgnutella datasets, our baseline Optimal exceeded
a time limit of two hours, but we were able to find the optimal
values by manually checking that no cliques of size ğ‘˜exist when
only edges with higher weight are considered. The running times
on the real-world datasets are shown in Table 3 in the Appendix.
Performance for any ğ‘˜.We were able to run all the algorithms
for all values of ğ‘˜on the three small traveling salesman instances of
Table 1 within a reasonable time. Figure 3 shows the results, which
are consistent with our previous findings. BCR performs very well
also for larger values of ğ‘˜while BAC ,BCF, and Greedy are often
slightly worse. Note that as ğ‘˜increases, the output of all algorithms
converges to the same set, which is the entire universe of points.
6.3 Running times of the algorithms
In this section, we compare the running time of our algorithms
BAC, BCR, and BCF on synthetically generated graph instances.5002
0004
0006
0008
00010
00012
000020406080
BA
CBCR
BCFOPT
GRD
RND
graph
size,ğ‘›running
time (s)
(
a) Synthetic scale-free graphs5002
0004
0006
0008
00010
00012
00001020304050
BACBCR
BCF
distance
rangerunning
time (s)
(
b) Synthetic complete digraph
Figure 4: Running time of our algorithms as a function of
the generated graph size and the size of the interval from
which distances are sampled.
Increasing graph size. In the first experiment, we generated di-
rected (unweighted) scale-free networks of varying size ğ‘›accord-
ing to the model by BollobÃ¡s et al . [9]. These synthetic graphs are
weakly connected, and we make them strongly connected by adding
directed edges in both directions. We set ğ‘˜=10, and defined dis-
tances as the shortest path distances between pairs of nodes (metric
closure). The diameter of scale-free networks typically scales about
logarithmically with graph size [ 10], so the number of unique dis-
tances in our AMMD instances does not change that drastically
when increasing the graph size ğ‘›. For example, when generating
instances of size ğ‘›=100andğ‘›=3 200, the diameter roughly only
doubled from 5 to 10. Figure 4a shows the results of the average run-
ning time over several repeats. It shows that although the number
of unique distances is relatively low, the difference in speed be-
tween BCR andBCF is still substantial. For ğ‘›=12 000 the running
time of BCR was about 49s while BCF required less than 14s. As
expected, the running time of Optimal scales exponentially while
Greedy and Random are very fast.
Unique distances. In a second timing experiment, we kept both
ğ‘›andğ‘˜fixed and increased the number of unique distances. We
generated complete weighted digraphs of size ğ‘›=400, where the
weights are random positive integers below a variable upper bound.
To guarantee the triangle inequality, we again took the metric
closure. We set ğ‘˜=10. Figure 4b shows the results. The theoretical
speed-up of BCF when compared to BAC andBCR, as discussed in
Section 5.3, is clearly visible in our implementations on practical
 
1447Max-Min Diversification with Asymmetric Distances KDD â€™24, August 25â€“29, 2024, Barcelona, Spain
data as well. Note that the running times of Greedy and Random
do not depend on the number of unique distances, while Optimal
takes prohibitively long for these instances.
7 CONCLUDING REMARKS
This paper initiated the study on the asymmetric generalization of
the Max-Min Diversification problem, denoted as AMMD, which
does not appear to have been studied before. We provided an ap-
proximation algorithm with an approximation factor of1
6ğ‘˜and
running time equivalent to matrix multiplication with logarithmic
factors. In practice, BCR outperformed all the baselines, returning
optimal result in most of the cases, while having pratical running
times, and having theoretical guarantees.
Regarding the hardness of approximation, we leave it as an open
question whether one can improve the1
2+ğœ–inapproximability result
that follows from MMD, which is the restriction of AMMD to sym-
metric distances. There is a large gap between our approximation
ratio and the inapproximability bound, and it would be interesting
for future work to narrow down the gap. For example, by designing
a constant-factor approximation algorithm for AMMD or showing
that no such algorithm exists under reasonable assumptions.
ACKNOWLEDGMENTS
This research is supported by the Academy of Finland project MAL-
SOME (343045) and by the Helsinki Institute for Information Tech-
nology (HIIT).
REFERENCES
[1]Zeinab Abbassi, Vahab S Mirrokni, and Mayur Thakur. 2013. Diversity max-
imization under matroid constraints. In Proceedings of the 19th ACM SIGKDD
international conference on Knowledge discovery and data mining. 32â€“40.
[2]Raghavendra Addanki, Andrew McGregor, Alexandra Meliou, and Zafeiria
Moumoulidou. 2022. Improved Approximation and Scalability for Fair Max-
Min Diversification. In 25th International Conference on Database Theory, ICDT
2022, March 29 to April 1, 2022, Edinburgh, UK (Virtual Conference) (LIPIcs, Vol. 220),
Dan Olteanu and Nils Vortmeier (Eds.). Schloss Dagstuhl - Leibniz-Zentrum fÃ¼r
Informatik, 7:1â€“7:21. https://doi.org/10.4230/LIPIcs.ICDT.2022.7
[3]Sepideh Aghamolaei, Majid Farhadi, and Hamid Zarrabi-Zadeh. 2015. Diversity
Maximization via Composable Coresets.. In CCCG. 38â€“48.
[4]Toshihiro Akagi, Tetsuya Araki, Takashi Horiyama, Shin-ichi Nakano, Yoshio
Okamoto, Yota Otachi, Toshiki Saitoh, Ryuhei Uehara, Takeaki Uno, and Kunihiro
Wasa. 2018. Exact algorithms for the max-min dispersion problem. In International
Workshop on Frontiers in Algorithmics. Springer, 263â€“272.
[5]Josh Alman and Virginia Vassilevska Williams. 2021. A refined laser method and
faster matrix multiplication. In Proceedings of the 2021 ACM-SIAM Symposium on
Discrete Algorithms (SODA). SIAM, 522â€“539.
[6]Aaron Archer. 2001. Two O (log* k)-approximation algorithms for the asymmet-
ric k-center problem. In International Conference on Integer Programming and
Combinatorial Optimization. Springer, 1â€“14.
[7]Christian Bauckhage, Rafet Sifa, and Stefan Wrobel. 2020. Adiabatic quantum
computing for max-sum diversification. In Proceedings of the 2020 SIAM Interna-
tional Conference on Data Mining. SIAM, 343â€“351.
[8]Sayan Bhattacharya, Sreenivas Gollapudi, and Kamesh Munagala. 2011. Consid-
eration set generation in commerce search. In Proceedings of the 20th international
conference on World wide web. 317â€“326.
[9]BÃ©la BollobÃ¡s, Christian Borgs, Jennifer T Chayes, and Oliver Riordan. 2003.
Directed scale-free graphs.. In SODA, Vol. 3. 132â€“139.
[10] BÃ©la BollobÃ¡s* and Oliver Riordan. 2004. The diameter of a scale-free random
graph. Combinatorica 24, 1 (2004), 5â€“34.
[11] Michele Borassi, Alessandro Epasto, Silvio Lattanzi, Sergei Vassilvitskii, and
Morteza Zadimoghaddam. 2019. Better sliding window algorithms to maximize
subadditive and diversity objectives. In Proceedings of the 38th ACM SIGMOD-
SIGACT-SIGAI Symposium on Principles of Database Systems. 254â€“268.
[12] Allan Borodin, Hyun Chul Lee, and Yuli Ye. 2012. Max-sum diversification,
monotone submodular functions and dynamic updates. In Proceedings of the
31st ACM SIGMOD-SIGACT-SIGAI symposium on Principles of Database Systems .
155â€“166.[13] Manuel Caceres, Massimo Cairo, Brendan Mumey, Romeo Rizzi, and Alexandru I
Tomescu. 2022. Minimum path cover in parameterized linear time. arXiv preprint
arXiv:2211.09659 (2022).
[14] Manuel CÃ¡ceres, Brendan Mumey, Santeri Toivonen, and Alexandru I Tomescu.
2023. Minimum Path Cover: The Power of Parameterization. arXiv preprint
arXiv:2308.08960 (2023).
[15] Pablo Castells, Neil Hurley, and Saul Vargas. 2021. Novelty and diversity in
recommender systems. In Recommender systems handbook. Springer, 603â€“646.
[16] Matteo Ceccarello, Andrea Pietracaprina, and Geppino Pucci. 2018. Fast coreset-
based diversity maximization under matroid constraints. In Proceedings of the
Eleventh ACM International Conference on Web Search and Data Mining. 81â€“89.
[17] Matteo Ceccarello, Andrea Pietracaprina, and Geppino Pucci. 2020. A general
coreset-based approach to diversity maximization under matroid constraints.
ACM Transactions on Knowledge Discovery from Data (TKDD) 14, 5 (2020), 1â€“27.
[18] Elisa Celis, Vijay Keswani, Damian Straszak, Amit Deshpande, Tarun Kathuria,
and Nisheeth Vishnoi. 2018. Fair and diverse DPP-based data summarization. In
International conference on machine learning. PMLR, 716â€“725.
[19] Alfonso Cevallos, Friedrich Eisenbrand, and Rico Zenklusen. 2017. Local search
for max-sum diversification. In Proceedings of the Twenty-Eighth Annual ACM-
SIAM Symposium on Discrete Algorithms. SIAM, 130â€“142.
[20] Barun Chandra and MagnÃºs M HalldÃ³rsson. 2001. Approximation Algorithms
for Dispersion Problems. Journal of Algorithms 38, 2 (2001), 438â€“465. https:
//doi.org/10.1006/jagm.2000.1145
[21] Li Chen, Rasmus Kyng, Yang P Liu, Richard Peng, Maximilian Probst Gutenberg,
and Sushant Sachdeva. 2022. Maximum flow and minimum-cost flow in almost-
linear time. In 2022 IEEE 63rd Annual Symposium on Foundations of Computer
Science (FOCS). IEEE, 612â€“623.
[22] Julia Chuzhoy, Sudipto Guha, Eran Halperin, Sanjeev Khanna, Guy Kortsarz,
Robert Krauthgamer, and Joseph Naor. 2005. Asymmetric k-center is log* n-hard
to approximate. Journal of the ACM (JACM) 52, 4 (2005), 538â€“551.
[23] Manuel CÃ¡ceres, Massimo Cairo, Brendan Mumey, Romeo Rizzi, and Alexandru I.
Tomescu. [n. d.]. Sparsifying, Shrinking and Splicing for Minimum Path Cover in
Parameterized Linear Time. 359â€“376. https://doi.org/10.1137/1.9781611977073.18
[24] Ting Deng and Wenfei Fan. 2013. On the complexity of query result diversification.
Proceedings of the VLDB Endowment 6, 8 (2013), 577â€“588.
[25] Robert P Dilworth. 1987. A decomposition theorem for partially ordered sets.
Classic papers in combinatorics (1987), 139â€“144.
[26] Marina Drosou and Evaggelia Pitoura. 2012. Disc diversity: result diversification
based on dissimilarity and coverage. arXiv preprint arXiv:1208.3533 (2012).
[27] Erhan Erkut. 1990. The discrete p-dispersion problem. European Journal of
Operational Research 46, 1 (1990), 48â€“60.
[28] Stefan Felsner, Vijay Raghavan, and Jeremy Spinrad. 2003. Recognition algorithms
for orders of small width and graphs of small Dilworth number. Order 20 (2003),
351â€“364.
[29] Delbert R Fulkerson. 1956. Note on Dilworthâ€™s decomposition theorem for
partially ordered sets. Proc. Amer. Math. Soc. 7, 4 (1956), 701â€“702.
[30] Andrew V Goldberg. 2008. The partial augmentâ€”relabel algorithm for the maxi-
mum flow problem. In European Symposium on Algorithms. Springer, 466â€“477.
[31] Teofilo F Gonzalez. 1985. Clustering to minimize the maximum intercluster
distance. Theoretical computer science 38 (1985), 293â€“306.
[32] Refael Hassin, Shlomi Rubinstein, and Arie Tamir. 1997. Approximation algo-
rithms for maximum dispersion. Operations research letters 21, 3 (1997), 133â€“137.
[33] Johan Hastad. 1996. Clique is hard to approximate within ğ‘›1âˆ’ğœ€. InProceedings of
37th Conference on Foundations of Computer Science. IEEE, 627â€“636.
[34] Piotr Indyk, Sepideh Mahabadi, Mohammad Mahdian, and Vahab S Mirrokni. 2014.
Composable core-sets for diversity and coverage maximization. In Proceedings
of the 33rd ACM SIGMOD-SIGACT-SIGART symposium on Principles of database
systems. 100â€“108.
[35] Marius Kaminskas and Derek Bridge. 2016. Diversity, serendipity, novelty, and
coverage: a survey and empirical analysis of beyond-accuracy objectives in
recommender systems. ACM Transactions on Interactive Intelligent Systems (TiiS)
7, 1 (2016), 1â€“42.
[36] MirosÅ‚aw Kowaluk, Andrzej Lingas, and Johannes Nowak. 2008. A path cover
technique for LCAs in dags. In Scandinavian Workshop on Algorithm Theory.
Springer, 222â€“233.
[37] Michael J Kuby. 1987. Programming models for facility dispersion: The p-
dispersion and maxisum dispersion problems. Geographical Analysis 19, 4 (1987),
315â€“329.
[38] Srijan Kumar, Bryan Hooi, Disha Makhija, Mohit Kumar, Christos Faloutsos, and
VS Subrahmanian. 2018. Rev2: Fraudulent user prediction in rating platforms.
InProceedings of the Eleventh ACM International Conference on Web Search and
Data Mining. ACM, 333â€“341.
[39] Srijan Kumar, Francesca Spezzano, VS Subrahmanian, and Christos Faloutsos.
2016. Edge weight prediction in weighted signed networks. In Data Mining
(ICDM), 2016 IEEE 16th International Conference on. IEEE, 221â€“230.
[40] JÃ©rÃ´me Kunegis. 2013. Konect: the koblenz network collection. In Proceedings of
the 22nd international conference on world wide web. 1343â€“1350.
 
1448KDD â€™24, August 25â€“29, 2024, Barcelona, Spain Iiro Kumpulainen, Florian Adriaens, & Nikolaj Tatti
[41] Jure Leskovec and Andrej Krevl. 2014. SNAP Datasets: Stanford Large Network
Dataset Collection. http://snap.stanford.edu/data.
[42] Sepideh Mahabadi and Shyam Narayanan. 2023. Improved Diversity Maximiza-
tion Algorithms for Matching and Pseudoforest. arXiv preprint arXiv:2307.04329
(2023).
[43] Veli MÃ¤kinen, Alexandru I Tomescu, Anna Kuosmanen, Topi Paavilainen, Travis
Gagie, and Rayan Chikhi. 2019. Sparse dynamic programming on DAGs with
small width. ACM Transactions on Algorithms (TALG) 15, 2 (2019), 1â€“21.
[44] Loris Marchal, Hanna Nagy, Bertrand Simon, and FrÃ©dÃ©ric Vivien. 2018. Parallel
scheduling of dags under memory constraints. In 2018 IEEE International Parallel
and Distributed Processing Symposium (IPDPS). IEEE, 204â€“213.
[45] Antonis Matakos, Sijing Tu, and Aristides Gionis. 2020. Tell me something my
friends do not know: Diversity maximization in social networks. Knowledge and
Information Systems 62 (2020), 3697â€“3726.
[46] James Moody. 2001. Peer influence groups: identifying dense clusters in large
networks. Social networks 23, 4 (2001), 261â€“283.
[47] Zafeiria Moumoulidou, Andrew McGregor, and Alexandra Meliou. 2020. Diverse
data selection under fairness constraints. arXiv preprint arXiv:2010.09141 (2020).
[48] Zafeiria Moumoulidou, Andrew McGregor, and Alexandra Meliou. 2021. Diverse
Data Selection under Fairness Constraints. In 24th International Conference on
Database Theory, ICDT 2021, March 23-26, 2021, Nicosia, Cyprus (LIPIcs, Vol. 186),
Ke Yi and Zhewei Wei (Eds.). Schloss Dagstuhl - Leibniz-Zentrum fÃ¼r Informatik,
13:1â€“13:25. https://doi.org/10.4230/LIPIcs.ICDT.2021.13
[49] Jaroslav NeÅ¡etÅ™il and Svatopluk Poljak. 1985. On the complexity of the subgraph
problem. Commentationes Mathematicae Universitatis Carolinae 26, 2 (1985),
415â€“419.
[50] Simeon C. Ntafos and S. Louis Hakimi. 1979. On path cover problems in digraphs
and applications to program testing. IEEE Transactions on Software Engineering 5
(1979), 520â€“529.
[51] U.S. Department of Transportation (DOT). 2015. 2015 Flights Delay. https:
//www.kaggle.com/datasets/usdot/flight-delays.
[52] Tore Opsahl. 2011. Why anchorage is not (that) important: Binary ties and sample
selection. In https://toreopsahl.com/datasets/#usairports .
[53] Rina Panigrahy and Sundar Vishwanathan. 1998. AnO (log* n) Approximation
Algorithm for the Asymmetricp-Center Problem. Journal of Algorithms 27, 2
(1998), 259â€“268.
[54] Wim Pijls and Rob Potharst. 2013. Another note on dilworthâ€™s decomposition
theorem. Journal of Discrete Mathematics 2013 (2013).
[55] Lu Qin, Jeffrey Xu Yu, and Lijun Chang. 2012. Diversifying Top-k Results. Proc.
VLDB Endow. 5, 11 (jul 2012), 1124â€“1135. https://doi.org/10.14778/2350229.2350233
[56] Filip Radlinski and Susan Dumais. 2006. Improving personalized web search
using result diversification. In Proceedings of the 29th annual international ACM
SIGIR conference on Research and development in information retrieval. 691â€“692.
[57] Sekharipuram S Ravi, Daniel J Rosenkrantz, and Giri Kumar Tayi. 1994. Heuristic
and special case algorithms for dispersion problems. Operations Research 42, 2
(1994), 299â€“310.
[58] Gerhard Reinelt. 1991. TSPLIB, a Traveling Salesman Problem Library. ORSA
Journal on Computing 3, 4 (1991), 376â€“384.
[59] Lovro Å ubelj and Marko Bajec. 2013. Model of complex networks based on
citation dynamics. In Proceedings of the 22nd international conference on World
Wide Web. 527â€“530.
[60] Ola Svensson, Jakub Tarnawski, and LÃ¡szlÃ³ A VÃ©gh. 2020. A constant-factor
approximation algorithm for the asymmetric traveling salesman problem. Journal
of the ACM (JACM) 67, 6 (2020), 1â€“53.
[61] Arie Tamir. 1991. Obnoxious facility location on graphs. SIAM Journal on Discrete
Mathematics 4, 4 (1991), 550â€“567.
[62] Da-Wei Wang and Yue-Sun Kuo. 1988. A study on two geometric location
problems. Information processing letters 28, 6 (1988), 281â€“286.
[63] Yanhao Wang, Francesco Fabbri, and Michael Mathioudakis. 2022. Streaming
algorithms for diversity maximization with fairness constraints. In 2022 IEEE
38th International Conference on Data Engineering (ICDE). IEEE, 41â€“53.
[64] Yanhao Wang, Francesco Fabbri, Michael Mathioudakis, and Jia Li. 2023. Fair
Maxâ€“Min Diversity Maximization in Streaming and Sliding-Window Models.
Entropy 25, 7 (2023), 1066.
[65] Yanhao Wang, Michael Mathioudakis, Jia Li, and Francesco Fabbri. 2023. Max-Min
Diversification with Fairness Constraints: Exact and Approximation Algorithms.
InProceedings of the 2023 SIAM International Conference on Data Mining (SDM).
SIAM, 91â€“99.
[66] Dong Xin, Hong Cheng, Xifeng Yan, and Jiawei Han. 2006. Extracting redundancy-
aware top-k patterns. In Proceedings of the 12th ACM SIGKDD international
conference on Knowledge discovery and data mining. 444â€“453.
[67] Sepehr Zadeh, Mehrdad Ghadiri, Vahab Mirrokni, and Morteza Zadimoghad-
dam. 2017. Scalable feature selection via distributed diversity maximization. In
Proceedings of the AAAI Conference on Artificial Intelligence, Vol. 31.
[68] Guangyi Zhang and Aristides Gionis. 2020. Maximizing diversity over clustered
data. In Proceedings of the 2020 SIAM International Conference on Data Mining.
SIAM, 649â€“657.
[69] Kaiping Zheng, Hongzhi Wang, Zhixin Qi, Jianzhong Li, and Hong Gao. 2017.
A survey of query result diversification. Knowledge and Information Systems 51
(2017), 1â€“36.
 
1449Max-Min Diversification with Asymmetric Distances KDD â€™24, August 25â€“29, 2024, Barcelona, Spain
A PROOFS
A.1 Proof of Theorem 2
We start by proving the approximation ratio of Algorithm 1. For a
pointğ‘¢âˆˆğ‘ˆandğ‘Ÿ>0, letğµ(ğ‘¢,ğ‘Ÿ)={ğ‘£âˆˆğ‘ˆ|ğ‘‘min(ğ‘£,ğ‘¢)<ğ‘Ÿ}denote
theğ‘‘min-ball around ğ‘¢with radius ğ‘Ÿ. We first prove the Property 4.
Proposition 4. If a pseudometric space (ğ‘ˆ,ğ‘‘)isğœ–-symmetric,
then for any ğ‘¥,ğ‘¦âˆˆğµ(ğ‘§,ğ‘Ÿ)it holds that ğ‘‘min(ğ‘¥,ğ‘¦)<(2+ğœ–)ğ‘Ÿ.
Proof. It holds that
ğ‘‘min(ğ‘¥,ğ‘¦)=min{ğ‘‘(ğ‘¥,ğ‘¦),ğ‘‘(ğ‘¦,ğ‘¥)}
â‰¤min{ğ‘‘(ğ‘¥,ğ‘§)+ğ‘‘(ğ‘§,ğ‘¦),ğ‘‘(ğ‘¦,ğ‘§)+ğ‘‘(ğ‘§,ğ‘¥)}.
Ifğ‘‘(ğ‘¥,ğ‘§)â‰¤ğ‘‘(ğ‘§,ğ‘¥), then
ğ‘‘min(ğ‘¥,ğ‘¦)â‰¤ğ‘‘(ğ‘¥,ğ‘§)+ğ‘‘(ğ‘§,ğ‘¦)<ğ‘Ÿ+(1+ğœ–)ğ‘Ÿ=(2+ğœ–)ğ‘Ÿ.
Otherwiseğ‘‘(ğ‘¥,ğ‘§)>ğ‘‘(ğ‘§,ğ‘¥), and then
ğ‘‘min(ğ‘¥,ğ‘¦)â‰¤ğ‘‘(ğ‘¦,ğ‘§)+ğ‘‘(ğ‘§,ğ‘¥)<(1+ğœ–)ğ‘Ÿ+ğ‘Ÿ=(2+ğœ–)ğ‘Ÿ,
and Property 4 follows. â–¡
Now we continue with the proof of Theorem 2. Consider an
optimum solution ğ‘‚={ğ‘œ1,...,ğ‘œğ‘˜}ofğ‘˜distinct points, with op-
timal value div(ğ‘‚)=ğ‘…âˆ—. Property 4 implies that the ğ‘˜ballsğµğ‘–=
ğµ(ğ‘œğ‘–,ğ‘…âˆ—
2+ğœ–)for eachğ‘–=1,...,ğ‘˜ are pairwise disjoint. Indeed, assume
two ballsğµğ‘–andğµğ‘—share a common point ğ‘¢, then because ğ‘œğ‘–âˆˆ
ğµ(ğ‘¢,ğ‘…âˆ—
2+ğœ–)andğ‘œğ‘—âˆˆğµ(ğ‘¢,ğ‘…âˆ—
2+ğœ–), Property 4 states that ğ‘‘min(ğ‘œğ‘–,ğ‘œğ‘—)<
ğ‘…âˆ—, contradicting the optimality of ğ‘‚.
While|ğ‘†|<ğ‘˜in Algorithm 1, there exists some ball ğµğ‘–that does
not contain any point from ğ‘†. Therefore,ğ‘œğ‘–is available for selection
andğ‘‘min(ğ‘œğ‘–,ğ‘†)â‰¥ğ‘…âˆ—
2+ğœ–. As Algorithm 1 picks the vertex with the
maximumğ‘‘mindistance towards the ğ‘†, it holds that div(ğ‘†)â‰¥ğ‘…âˆ—
2+ğœ–
in each iteration. The performance guarantee follows.
To show that this ratio is tight, consider the following example of
a pseudometric on three points {ğ‘¥,ğ‘¦,ğ‘§}withğ‘‘(ğ‘¥,ğ‘¦)=ğ‘‘(ğ‘¦,ğ‘¥)=1,
ğ‘‘(ğ‘¥,ğ‘§)=ğ‘‘(ğ‘¦,ğ‘§)=1
2+ğœ–andğ‘‘(ğ‘§,ğ‘¥)=ğ‘‘(ğ‘§,ğ‘¦)=1+ğœ–
2+ğœ–. This instance is
ğœ–-symmetric and satisfies the directed triangle inequality. For ğ‘˜=2,
the optimum is ğ‘‚={ğ‘¥,ğ‘¦}withğ‘…âˆ—=1, but Algorithm 1 returns a
set with value1
2+ğœ–if the first point chosen is ğ‘§.
Algorithm 1 can be implemented to run in O(ğ‘˜ğ‘›)time by main-
tainingğ‘‘(ğ‘¢,ğ‘†)for eachğ‘¢âˆˆğ‘ˆin each iteration. If ğ‘£is selected
in an iteration, then the distances are updated as ğ‘‘(ğ‘¢,ğ‘†âˆª{ğ‘£})=
min{ğ‘‘(ğ‘¢,ğ‘†),ğ‘‘(ğ‘¢,ğ‘£)}. There areğ‘˜iterations and ğ‘›updates in each
iteration, with each update requiring constant time.
A.2 Proof of Theorem 3
Recall thatğ‘…âˆ—is the optimal value for an AMMD instance space
(ğ‘ˆ,ğ‘‘)with parameter ğ‘˜, andğ‘‚is a corresponding optimal set of ğ‘˜
points. There are at most ğ‘›(ğ‘›âˆ’1)unique pairwise distances in ğ‘‘,andğ‘…âˆ—equals one of them. Algorithm 2 will iterate over all unique
distancesğ‘…and creates a digraph ğºğ‘…=(ğ‘ˆ,ğ´)withğ‘–ğ‘—âˆˆğ¸if and
only ifğ‘‘(ğ‘–,ğ‘—)<ğ‘…
ğ‘›âˆ’ğ‘˜+1.
Now we argue that for any ğ‘…â‰¤ğ‘…âˆ—, and for any two ğ‘¥,ğ‘¦âˆˆğ‘‚,ğ‘¥â‰ 
ğ‘¦, it must hold that ğ‘¦is unreachable from ğ‘¥inğºğ‘…. Suppose that
ğ‘¦is reachable from ğ‘¥. So there is a path ğ‘inğºğ‘…fromğ‘¥toğ‘¦. We
may assume that ğ‘only has vertices that are not in ğ‘‚, except for
the first vertex ğ‘¥and the last vertex ğ‘¦. Otherwise, we continue the
argument by shortening ğ‘to start atğ‘¥until encountering the first
point inğ‘‚. Using the triangle inequality along the edges in ğ‘, it
follows that
ğ‘‘(ğ‘¥,ğ‘¦)<(ğ‘›âˆ’ğ‘˜+1)ğ‘…
ğ‘›âˆ’ğ‘˜+1=ğ‘…,
as there are at most ğ‘›âˆ’ğ‘˜+1edges inğ‘, and the distance between
consecutive points in ğ‘is strictly smaller thanğ‘…
ğ‘›âˆ’ğ‘˜+1by definition
ofğºğ‘…. This contradicts with ğ‘‘(ğ‘¥,ğ‘¦)â‰¥ğ‘…âˆ—, by optimality of ğ‘¥,ğ‘¦âˆˆğ‘‚.
As the points in an optimal solution are pairwise unreachable in
ğºğ‘…forğ‘…â‰¤ğ‘…âˆ—, it follows that the maximum antichain ğ‘€inğºğ‘…will
have at least ğ‘˜vertices, and we simply select ğ‘˜arbitrary vertices
fromğ‘€and return them as our final solution. As two distinct
verticesğ‘–,ğ‘—âˆˆğ‘€,ğ‘–â‰ ğ‘—satisfyğ‘‘(ğ‘–,ğ‘—)â‰¥ğ‘…
ğ‘›âˆ’ğ‘˜+1, the approximation
guarantee follows by iterating over all unique distances so that for
one of the iterations we have ğ‘…=ğ‘…âˆ—. The running time follows
from Proposition 1, by using the maximum antichain algorithm
from [13].
A.3 Table of running times
Table 3: Running times for our approximation algorithms
(BAC,BCR , and BCF), the greedy algorithm (Greedy), and
the random baseline (Rand.) for fixed parameter value ğ‘˜=10
on the real-world datasets from Table 1.
Data BAC BCR BCF Greedy Rand.
ft70 1s 4s 0s 0s 0s
kro124p 1s 5s 0s 0s 0s
celegans 0s 0s 0s 0s 0s
rbg323 0s 1s 0s 0s 0s
wiki-vote 0s 1s 0s 0s 0s
US airports 1m 44s 7m 25s 0s 0s 0s
moreno 3s 15s 0s 0s 0s
openflights 2s 2s 1s 0s 0s
cora 9s 41s 1s 0s 0s
bitcoin 51s 5m 13s 2s 0s 0s
gnutella 11s 23s 2s 0s 0s
 
1450